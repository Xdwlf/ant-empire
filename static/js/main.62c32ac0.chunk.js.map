{"version":3,"sources":["utils/effect/index.js","utils/display/styles.js","utils/display/colorize.js","components/AntCount.js","utils/display/resources.js","components/ResourceCount.js","components/StoreCount.js","utils/display/status.js","components/RiskCount.js","components/ColonyStatus.js","components/Notification.js","components/BackgroundAnimation.js","components/EnterButton.js","components/Logo.js","containers/Enter.js","containers/Prequel.js","utils/general/narrative.js","utils/general/status.js","utils/general/general.js","utils/home/descriptions.js","actionCreators.js","utils/general/effects.js","utils/general/gameHelpers.js","containers/Choice.js","utils/home/index.js","utils/general/statusHelpers.js","components/SearchingPreloader.js","containers/Searching.js","utils/travel/index.js","containers/Gameplay.js","utils/event/calcAnts.js","utils/event/categories.js","utils/event/data.js","utils/event/categorizeRisk.js","utils/event/choiceCategories.js","utils/event/index.js","utils/event/calcStore.js","utils/event/choice.js","containers/Event.js","App.js","utils/general/loadPage.js","serviceWorker.js","rootReducer.js","index.js"],"names":["addUpEffects","effects","reduce","accum","effect","number","calcEventEffects","event","reduxState","status","ants","store","choice","type","Math","floor","subtype","applyEffectsToStatus","types","newStatus","Object","objectSpread","key","map","hasOwnProperty","push","assign","defineProperty","max","home","resources","min","concat","toConsumableArray","risk","scale","danger","color","caution","warning","okay","good","addStyleToText","text","style","react_default","a","createElement","styleByValue","num","AntCount","_this$props","this","props","eventEffect","eggEffect","filter","larvaeEffect","pupaeEffect","workerEffect","id","data-test","data-tip","data-for","className","eggs","larvae","pupae","worker","dist_default","Component","defaultProps","describeResourceAsAdjective","ResourceCount","foodEffects","waterEffects","food","water","StoreCount","waterEffect","foodEffect","describeRiskAsAdjective","RiskCount","antEffects","animalEffects","humanEffects","ant","animal","human","ColonyStatus","_Component","classCallCheck","possibleConstructorReturn","getPrototypeOf","apply","arguments","inherits","createClass","value","_this$props$state","state","antEvents","resourceEvents","storeEvents","riskEvents","components_AntCount","components_StoreCount","description","weather","temperature","desc","humidity","components_RiskCount","components_ResourceCount","onClick","resetGame","connect","Notification","_this","call","stats","viewStats","bind","assertThisInitialized","viewNarrative","setState","content","day","maxAnts","homes","h","notification","BackgroundAnimation","jellyAnimation","reachAnimation","spreadAnimation","anime","targets","points","easing","duration","loop","direction","hover","clicked","jelly","reach","pause","play","remove","viewBox","fill","xmlns","preserveAspectRatio","stroke","strokeWidth","EnterButton","handleClick","mouseOver","mouseOut","onMouseOver","onMouseOut","Logo","strokeDashoffset","setDashoffset","delay","el","i","width","height","d","mask","Enter","changePage","opacity","setTimeout","_this$state","react_transition_group","in","appear","timeout","classNames","components_BackgroundAnimation","components_Logo","components_EnterButton","narrative","Prequel","story","fadeThroughStory","arr","_this2","count","interval","setInterval","nextLine","length","clearInterval","line","idx","gameStatusNarratives","HEALTHY","HUNGRY","THIRSTY","STARVING","DEHYDRATED","DEATH_BY_STARVATION","DEATH_BY_DEHYDRATION","KILLED_BY_ANTS","KILLED_BY_HUMANS","KILLED_BY_PREDATORS","CAPTURED_BY_ANTS","CAPTURED_BY_HUMANS","gStatus","selectRandomfromArray","random","decideIfGameIsPlaying","game","filteredStatus","s","descriptions","resource","environment","SET_HOME","UPDATE_FUEL","SET_STORE","UPDATE_GAMESTATUS","UPDATE_CHOICE","UPDATE_ALL","SET_EVENT","RESET_STATE","UPDATE_NOTIFICATION","RECORD_HOME","ADD_DAY","UPDATE_MAX_ANTS","setHome","setStore","updateChoice","updateAll","addDay","updateMaxAnts","statusEffects","gameOver","some","newState","Choice","statusNarrative","currentHome","selectHome","generateHomeAndNarrative","updateGameStatus","updatedState","_generateHome","temp","humid","environ","anirisk","hrisk","arisk","generateHome","newHomeDesc","splice","statusEvents","stat","addStatusEffects","e","updatedNotification","_this3","recordHome","SearchingPreloader","Searching","updatedStore","deductFromStore","calculateStoreDeductionForTravel","change","components_SearchingPreloader","Gameplay","setChoice","onMouseEnter","showWarning","disabled","resetAnts","categories","frozen","cold","chilly","mild","warm","hot","searing","very wet","wet","dry","very dry","very low","low","medium","high","very high","eventsData","categorizeRisk","choiceData","birth","expand","defend","generateEvent","events","updatedAnts","bonus","storePercentage","newEggNum","log","calcCurrentAnts","maxStore","waterRate","foodRate","calcNewStore","disasters","rollTemp","eventID","newEvent","rollHumid","rollAnimal","rollHuman","rollAnt","rollEvents","_gameOver","statusEffect","_decideIfGameIsPlayin","choiceDesc","Event","chooseButton","_generateEvent","button","firstParagraph","allEvents","curr","compileEffects","allEffects","setEvent","every","paragraph","App","page","resetState","callback","callback2","callback3","enter","containers_Enter","prequel","containers_Prequel","containers_Choice","searching","containers_Searching","gameplay","containers_Gameplay","containers_Event","loadPage","isGamePlaying","unmountOnExit","components_Notification","updateNotification","components_ColonyStatus","Boolean","window","location","hostname","match","initialState","fuel","createStore","undefined","action","currentAnts","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","es","src_App_0","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.62c32ac0.chunk.js","sourcesContent":["/**\r\n * Takes an array of events and flattens it to an array of effects\r\n * @param {array of Objects} events - An array of events\r\n */\r\n\r\nexport function compileEffects(events){\r\n  if(!events) return []\r\n  let effects = events.reduce((accum, curr) => [...accum, ...curr.effects], [])\r\n  return effects\r\n}\r\n\r\n/**\r\n * Takes an array of effects and adds them up\r\n */\r\n\r\nexport function addUpEffects(effects){\r\n  if(!effects) return 0\r\n  return effects.reduce((accum, effect)=> accum+effect.number, 0)\r\n}\r\n\r\nexport function calcEventEffects(event, reduxState){\r\n  if(!event) return {};\r\n  let {ants, store, choice} = reduxState\r\n  let effect, status;\r\n  if(event.type=== 'ant'){\r\n    effect = Math.floor(ants[event.subtype]*event.number) - ants[event.subtype]\r\n    effect = (event.number>1 && effect<5)? 5: effect;\r\n  }\r\n  if(event.type=== 'resource'){\r\n    effect = event.number\r\n  }\r\n  if(event.type=== 'store'){\r\n    effect = Math.floor(store[event.subtype] * event.number - store[event.subtype])\r\n    effect = (event.number>1 && effect<10)? 25: effect;\r\n  }\r\n  if(event.type==='status'){\r\n    status = event.status\r\n  }\r\n  if(event.type==='risk'){\r\n    effect = event.number\r\n  }\r\n  let number = (choice === \"defend\" && effect<0) ? Math.floor(effect/4): effect\r\n  return {\r\n    type: event.type,\r\n    subtype: event.subtype,\r\n    status,\r\n    number\r\n  }\r\n}\r\n\r\nexport function applyEffectsToStatus(effects, status){\r\n  let types = {};\r\n  let newStatus = {...status}\r\n  effects.map(effect=> (types.hasOwnProperty(effect.type))?\r\n    types[effect.type].push(effect): types[effect.type] = [effect])\r\n  for(let key in types){\r\n    if(key === 'ant'){\r\n      types[key].map(effect=>{\r\n        newStatus.ants = Object.assign({}, newStatus.ants, {[effect.subtype]: Math.max(0, newStatus.ants[effect.subtype] + effect.number)})}\r\n      )\r\n    }\r\n    if(key === 'store'){\r\n      types[key].map(effect=> {\r\n        newStatus.store = Object.assign({}, newStatus.store, {[effect.subtype]: Math.max(0, newStatus.store[effect.subtype] + effect.number) })\r\n      })\r\n    }\r\n    if(key === 'resource'){\r\n      newStatus.home = {...status.home}\r\n      types[key].map(effect=>{\r\n        const resources = {...newStatus.home.resources}\r\n        newStatus.home.resources = Object.assign({}, resources, {[effect.subtype]: Math.min(10, Math.max(1, resources[effect.subtype]+ effect.number))})\r\n      } )\r\n    }\r\n    if(key=== 'status'){\r\n        types[key].map(effect=>{\r\n        newStatus.status = [...newStatus, effect.status]\r\n      })\r\n    }\r\n    if(key=== 'risk'){\r\n      newStatus.home = {...status.home}\r\n      types[key].map(effect=>{\r\n        const risk = {...newStatus.home.risk}\r\n        newStatus.home.risk = Object.assign({}, risk, {[effect.subtype]: Math.min(10, Math.max(1, risk[effect.subtype] + effect.number))})\r\n      })\r\n    }\r\n  }\r\n  return newStatus\r\n}\r\n","\r\n//Values and their corresponding colors\r\nexport const scale = {\r\n  danger: {\r\n    color: \"#ff1a1a\"\r\n  },\r\n  caution: {\r\n    color: \"orange\"\r\n  },\r\n  warning: {\r\n    color: \"yellow\"\r\n  },\r\n  okay: {\r\n    color: \"lightgreen\"\r\n  },\r\n  good: {\r\n    color: \"green\"\r\n  }\r\n}\r\n","import React from 'react'\r\nimport {scale} from './styles'\r\n\r\n/**\r\n * addStyleToText\r\n * Puts text in a JSX span and returns it with the desired style\r\n * @param {String} text - The text to stylize\r\n * @param {Object} style - The style to apply\r\n */\r\nexport function addStyleToText(text, style){\r\n  return <span style={style}>{text}</span>\r\n}\r\n\r\n/**\r\n * Styles numbers by Positive or Negative\r\n * @param {number} num - The value to be calculated between -1 and 1\r\n */\r\n\r\nexport function styleByValue(num){\r\n  if(num>0){\r\n    return addStyleToText(num, scale.okay)\r\n  } else{\r\n    return addStyleToText(num, scale.danger)\r\n  }\r\n}\r\n","import React, {Component} from 'react'\r\nimport {addUpEffects} from '../utils/effect/'\r\nimport ReactTooltip from 'react-tooltip'\r\n\r\nimport {scale} from '../utils/display/styles'\r\nimport {addStyleToText, styleByValue} from '../utils/display/colorize'\r\nimport './styles/AntCount.css'\r\n\r\n/**\r\n * Ant Count\r\n * Renders a table in the Colony Status bar that shows the number of ants for each type\r\n */\r\n\r\nclass AntCount extends Component{\r\n  render(){\r\n    let {ants, eventEffect} = this.props\r\n    //Filter out effects by category so it can be displayed while not yet impacting redux state yet\r\n    let eggEffect = addUpEffects(eventEffect.filter(event => event.subtype === 'eggs'))\r\n    let larvaeEffect = addUpEffects(eventEffect.filter(event => event.subtype === 'larvae'))\r\n    let pupaeEffect = addUpEffects(eventEffect.filter(event => event.subtype === 'pupae'))\r\n    let workerEffect = addUpEffects( eventEffect.filter(event => event.subtype === 'worker') )\r\n    return (\r\n      <div id=\"ant-count\" data-test=\"component-ant-count\">\r\n        <h4>Your Ants</h4>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <th data-tip data-for=\"egg-info\">Eggs:</th>\r\n              <td className=\"data\"><span data-test=\"ant-eggs\">{ants.eggs}</span></td>\r\n              <td className=\"effect\">{(eggEffect>0)? addStyleToText('+', scale.okay):''}{(eggEffect!==0)? styleByValue(eggEffect): ''}</td>\r\n            </tr>\r\n            <tr>\r\n              <th data-tip data-for=\"larvae-info\">Larvae:</th>\r\n              <td className=\"data\"><span data-test=\"ant-larvae\">{ants.larvae}</span></td>\r\n              <td className=\"effect\">{(larvaeEffect>0)? addStyleToText('+', scale.okay):''}{(larvaeEffect!==0)? styleByValue(larvaeEffect): ''}</td>\r\n            </tr>\r\n            <tr>\r\n              <th data-tip data-for=\"pupae-info\"> Pupae:</th>\r\n              <td className=\"data\"><span data-test=\"ant-pupae\">{ants.pupae}</span></td>\r\n              <td className=\"effect\">{(pupaeEffect>0)? addStyleToText('+', scale.okay):''}{(pupaeEffect!==0)? styleByValue(pupaeEffect): ''}</td>\r\n            </tr>\r\n            <tr>\r\n              <th data-tip data-for=\"worker-info\">Workers:</th>\r\n              <td className=\"data\" data-test=\"ant-worker\">{ants.worker}</td>\r\n              <td className=\"effect\">{(workerEffect>0)? addStyleToText('+', scale.okay):''}{(workerEffect!==0)? styleByValue(workerEffect): ''}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <ReactTooltip className=\"info-tooltip\" id=\"egg-info\" type=\"light\" effect=\"float\">\r\n                            <span>All ants begin as an egg. Ant eggs are soft, oval, and tiny – about the size of a period at the end of a sentence. Not all eggs are destined to become adults – some are eaten by nestmates for extra nourishment.</span>\r\n            </ReactTooltip>\r\n            <ReactTooltip className=\"info-tooltip\" id=\"larvae-info\" type=\"light\" effect=\"float\">\r\n                            <span>An egg hatches into a worm-shaped larva with no eyes or legs. Larvae are eating machines that rely on adults to provide a constant supply of food. As a result, they grow rapidly, molting between sizes.</span>\r\n            </ReactTooltip>\r\n            <ReactTooltip className=\"info-tooltip\" id=\"pupae-info\" type=\"light\" effect=\"float\">\r\n                            <span>When a larvae is large enough, it metamorphoses into a pupa. This is a stage of rest and reorganization. Pupae look more like adults, but their legs and antennae are folded against their bodies. They start out whitish and gradually become darker.</span>\r\n            </ReactTooltip>\r\n            <ReactTooltip className=\"info-tooltip\" id=\"worker-info\" type=\"light\" effect=\"float\">\r\n                            <span>Worker ants are full-grown when born. Their exoskeletons prevent them from getting any larger. They do not reproduce, but perform other jobs, such as taking care of the brood, building and cleaning the nest, and gathering food. Workers are wingless and typically survive for several months.</span>\r\n        </ReactTooltip>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nAntCount.defaultProps={\r\n  ants: null,\r\n  eventEffect: []\r\n}\r\nexport default AntCount\r\n","import React from 'react'\r\nimport {scale} from './styles'\r\n/**\r\n * Returns a span of text depending on number value of resource\r\n * @param {number} num - Resource availability represented by a number between 1-10\r\n */\r\nexport function describeResourceAsAdjective(num){\r\n  switch(true){\r\n    case num < 2:\r\n      return <span style={scale.danger}>Barren</span>\r\n    case num < 4:\r\n      return <span style={scale.caution}>Scarce</span>\r\n    case num < 6:\r\n      return <span style={scale.warning}>Moderate</span>\r\n    case num < 8:\r\n      return <span style={scale.okay}>Plentiful</span>\r\n    default:\r\n      return <span style={scale.good}>Overflowing</span>\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {addUpEffects} from '../utils/effect'\r\nimport {describeResourceAsAdjective} from '../utils/display/resources'\r\nimport './styles/ResourceCount.css'\r\n\r\n/**\r\n * Displays the resource availability for the current home\r\n */\r\n\r\nclass ResourceCount extends Component {\r\n  render(){\r\n    let {eventEffect, resources} = this.props\r\n    let foodEffects = addUpEffects(eventEffect.filter(event=> event.subtype=== 'food'))\r\n    let waterEffects = addUpEffects(eventEffect.filter(event=> event.subtype=== 'water'))\r\n    return(<div id=\"resource-count\" data-test=\"component-resource-count\"><h4>Resources</h4>\r\n      <table>\r\n        <tbody>\r\n          <tr data-test=\"food-resource\"><th>Food:</th>\r\n            <td>{(resources)? describeResourceAsAdjective(resources.food):null}</td>\r\n            <td>{(foodEffects!==0)?\r\n              (<span data-test=\"compiled-food-effect\"> {(foodEffects>0) ? <span className=\"increasing\">⇈</span> : <span className=\"decreasing\">⇊</span>}</span>): null}</td></tr>\r\n          <tr data-test=\"water-resource\"><th>Water:</th>\r\n            <td>{(resources)? describeResourceAsAdjective(resources.water):null}</td>\r\n            <td>{(waterEffects!==0)?\r\n              (<span data-test=\"compiled-water-effect\">{(waterEffects>0) ? <span className=\"increasing\">⇈</span> : <span className=\"decreasing\">⇊</span>}</span>): null}</td></tr>\r\n        </tbody>\r\n      </table>\r\n    </div>)\r\n  }\r\n}\r\n\r\nexport default ResourceCount\r\n","import React, {Component} from 'react';\r\nimport {addUpEffects} from '../utils/effect'\r\nimport {scale} from '../utils/display/styles'\r\nimport {addStyleToText, styleByValue} from '../utils/display/colorize'\r\nimport './styles/StoreCount.css'\r\n\r\nclass StoreCount extends Component{\r\n  render(){\r\n    let {store, eventEffect} = this.props;\r\n    const waterEffect = addUpEffects(eventEffect.filter(event => event.subtype === \"water\"))\r\n    const foodEffect = addUpEffects(eventEffect.filter(event => event.subtype === \"food\"))\r\n    return(\r\n      <div id=\"store-count\" data-test=\"component-store-count\">\r\n        <h4>Storage</h4>\r\n        <table>\r\n          <tbody>\r\n            <tr>\r\n              <th>Food:</th>\r\n              <td className=\"data\"><span data-test=\"food-store\">{store.food}</span></td>\r\n              <td className=\"effect\">{(foodEffect!==0)?\r\n              (<span data-test=\"food-effect\">{(foodEffect>0)? addStyleToText('+', scale.okay):null}{styleByValue(foodEffect)}</span>): null}</td>\r\n            </tr>\r\n            <tr>\r\n              <th>Water:</th>\r\n              <td className=\"data\"><span data-test=\"water-store\">{store.water}</span></td>\r\n              <td className=\"effect\">{(waterEffect!==0)?\r\n              (<span data-test=\"water-effect\">{(waterEffect>0)? addStyleToText('+', scale.okay):null}{styleByValue(waterEffect)}</span>): null}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>)\r\n  }\r\n}\r\n\r\nexport default StoreCount\r\n","import React from 'react'\r\nimport {scale} from './styles'\r\n\r\n/**\r\n * Returns a span of text depending on number value of risk\r\n * @param {number} num - Risk availability represented by a number between 1-10\r\n */\r\nexport function describeRiskAsAdjective(num){\r\n  switch (true) {\r\n    case num < 2:\r\n      return <span style={scale.good}>Very Low</span>\r\n    case num < 4:\r\n      return <span style={scale.okay}>Low</span>\r\n    case num < 6:\r\n      return <span style={scale.warning}>Medium</span>\r\n    case num < 8:\r\n      return <span style={scale.caution}>High</span>\r\n    default:\r\n      return <span style={scale.danger}>Very High</span>\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {addUpEffects} from '../utils/effect'\r\nimport {describeRiskAsAdjective} from '../utils/display/status'\r\nimport './styles/RiskCount.css'\r\n\r\n/**\r\n * Displays the Risk for the current home\r\n */\r\nclass RiskCount extends Component {\r\n\r\n  render(){\r\n    let {risk, eventEffect} = this.props\r\n    let antEffects = addUpEffects(eventEffect.filter(event=> event.subtype=== 'ant'))\r\n    let animalEffects = addUpEffects(eventEffect.filter(event=> event.subtype=== 'animal'))\r\n    let humanEffects = addUpEffects(eventEffect.filter(event=> event.subtype=== 'human'))\r\n\r\n    return(<div id=\"risk-count\" data-test=\"component-risk-count\">\r\n      <h4>Risks</h4>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <th>Ant:</th>\r\n            <td className=\"data\">{describeRiskAsAdjective(risk.ant)}</td>\r\n            <td>{(antEffects!==0)?  ((antEffects>0) ? <span className=\"increasing\">⇈</span> : <span className=\"decreasing\">⇊</span>):null}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>Animal:</th>\r\n            <td className=\"data\">{describeRiskAsAdjective(risk.animal)}</td>\r\n            <td>{(animalEffects!==0)?  ((animalEffects>0) ? <span className=\"increasing\">⇈</span> : <span className=\"decreasing\">⇊</span>):null}</td>\r\n          </tr>\r\n          <tr>\r\n            <th>Human:</th>\r\n            <td className=\"data\">{describeRiskAsAdjective(risk.human)}</td>\r\n            <td>{(humanEffects!==0)? ((humanEffects>0) ? <span className=\"increasing\">⇈</span> : <span className=\"decreasing\">⇊</span>):null}</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>)\r\n  }\r\n}\r\n\r\nexport default RiskCount\r\n","import React, {Component} from 'react'\r\nimport {connect} from 'react-redux'\r\nimport '../App.css'\r\nimport './styles/ColonyStatus.css'\r\nimport AntCount from './AntCount'\r\nimport ResourceCount from './ResourceCount'\r\nimport StoreCount from './StoreCount'\r\nimport RiskCount from './RiskCount'\r\n\r\n/**\r\n * ColonyStatus\r\n * Status bar that displays information about the current game for the Player\r\n */\r\n\r\nexport class ColonyStatus extends Component{\r\n\r\n  render(){\r\n    let {event, ants, home, store} = this.props.state\r\n    //Separates out the effects into the categories to render independently\r\n    let antEvents = event.filter(effect=> effect.type==='ant')\r\n    let resourceEvents = event.filter(effect=> effect.type==='resource')\r\n    let storeEvents = event.filter(effect=> effect.type==='store')\r\n    let riskEvents = event.filter(effect=> effect.type==='risk')\r\n\r\n    return(<div className=\"sidebar\" data-test=\"component-colony-status\" >\r\n      <div>\r\n        <div className='status-section'>\r\n          {/*Displays current number of ants}*/}\r\n          <div className='sub-section'>\r\n            <AntCount ants={ants} eventEffect={ antEvents} reduxState={this.props.state}/>\r\n          </div>\r\n          {/*Displays current amount of food and water in store*/}\r\n          <div className='sub-section'>\r\n            <StoreCount eventEffect={storeEvents} store={store} />\r\n          </div>\r\n        </div>\r\n          {/*If home is set, display home and weather*/}\r\n        {(home)? (\r\n          <div className='status-section'>\r\n            <div className='sub-section home'><h4>Your Home:</h4> <div data-test=\"home-description\">{(home)? home.description: null}</div></div>\r\n            <div className='sub-section home'><h4>Weather:</h4> <div data-test=\"weather-description\">{(home)? home.weather.temperature.desc + ' and ' + home.weather.humidity.desc:null}</div></div>\r\n          </div>):null\r\n        }\r\n          {/*If home is set, display risk and resource*/}\r\n        {(home)? (\r\n          <div className='status-section'>\r\n            <RiskCount risk={this.props.state.home.risk} eventEffect={riskEvents} />\r\n            <ResourceCount eventEffect={resourceEvents} resources={(home) ? home.resources: null}/>\r\n          </div>):null\r\n        }\r\n\r\n      </div>\r\n      <button id=\"start-over\" className=\"ui button\" onClick={this.props.resetGame}>Start Over</button>\r\n      </div>)\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n  return {\r\n    state: {...reduxState}\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(ColonyStatus)\r\n","import React, {Component} from 'react'\r\nimport \"./styles/Notification.css\";\r\n/**\r\n * Notification Component\r\n * Pops up whenever game is over\r\n */\r\nclass Notification extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    //If stats should be displayed on notification\r\n    this.state={\r\n      stats:false\r\n    }\r\n    this.viewStats= this.viewStats.bind(this)\r\n    this.viewNarrative = this.viewNarrative.bind(this)\r\n  }\r\n  viewStats(){\r\n    this.setState({stats:true})\r\n  }\r\n  viewNarrative(){\r\n    this.setState({stats:false})\r\n  }\r\n  render(){\r\n    const {stats} = this.props;\r\n    /* If view stats has not been clicked, show the narrative. Otherwise, display the stats.\r\n     */\r\n    let content = (!this.state.stats)? (<div>\r\n          <h1>GAME OVER</h1>\r\n        <div id=\"game-over-narrative\">{this.props.notification}</div>\r\n        <div className=\"button-group\">\r\n          <button onClick={this.props.resetGame}>Play Again</button>\r\n          <button onClick={this.viewStats}>View Stats</button>\r\n        </div>\r\n        </div>): <div>\r\n          <h4>Stats</h4>\r\n          <table>\r\n            <tbody>\r\n              <tr><td>Days Lived:</td><td>{stats.day}</td></tr>\r\n              <tr><td>Max Ants:</td><td>{stats.maxAnts}</td></tr>\r\n              <tr><td>Homes Lived In: </td><td>\r\n                  <ul>\r\n                    {stats.homes.map(h=>(\r\n                      <li>{h}</li>\r\n                    ))}\r\n                  </ul>\r\n                  </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n          <div className=\"button-group\">\r\n              <button onClick={this.props.resetGame}>Play Again</button>\r\n              <button onClick={this.viewNarrative}>Go Back</button>\r\n          </div>\r\n\r\n        </div> ;\r\n    return (<div id=\"notification\">\r\n      {content}\r\n      </div>)\r\n  }\r\n}\r\n\r\nexport default Notification\r\n","import React, {Component} from 'react'\r\nimport anime from 'animejs'\r\nimport './styles/BackgroundAnimation.css'\r\n\r\n/**\r\n * The background animation for the landing page (Enter Component)\r\n */\r\nclass BackgroundAnimation extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.jellyAnimation = this.jellyAnimation.bind(this)\r\n    this.reachAnimation = this.reachAnimation.bind(this)\r\n    this.spreadAnimation = this.spreadAnimation.bind(this)\r\n\r\n  }\r\n\r\n  //The Standard background animation for the Enter page\r\n\r\n  jellyAnimation(){\r\n    const jelly = anime({\r\n        targets: '#backgroundanimation',\r\n        points: [\r\n          {value:  [\"20 30 130 41 590 22 912 38 1131 102 1119 290 1080 460 1110 610 1170 737 980 832 673 842 398 820 81 724 15 578 20 390 81 253\",\r\n           \"310 290 390 171 590 192 812 218 971 192 909 290 990 480 800 500 820 557 710 502 573 532 398 590 371 424 225 398 299 350 221 293\"\r\n        ]}, {\r\n            value:  \"80 90 370 71 630 172 812 98 881 172 1090 460 1030 560 1090 740 980 787 720 632 473 642 398 690 71 524 195 398 79 230 51 103\"},{\r\n            value:  \"380 200 470 91 530 62 712 98 881 52 990 40 1090 90 1080 340 930 417 730 632 513 682 328 500 371 434 245 318 259 290 291 193\"\r\n          },{\r\n          value:  \"330 130 470 191 630 102 732 198 811 222 890 460 790 530 650 570 530 757 430 792 403 722 238 710 81 784 95 555 239 380 231 253\"\r\n        },{\r\n          value:\"40 210 190 71 430 82 732 158 881 299 1009 310 1000 490 880 620 850 727 710 682 363 742 128 620 301 524 295 428 219 350 71 283\"\r\n        },{\r\n          value: \"310 290 390 171 590 192 812 218 971 192 909 290 990 480 800 500 820 557 710 502 573 532 398 590 371 424 225 398 299 350 221 293\"\r\n        },\r\n          {\r\n            value: \"20 30 130 41 590 22 912 38 1131 102 1119 290 1080 460 1110 610 1170 737 980 832 673 842 398 820 81 724 15 578 20 390 81 253\"\r\n          }\r\n          ],\r\n        easing: 'easeInOutQuad',\r\n        duration: 10000,\r\n        loop: true\r\n      });\r\n    return jelly;\r\n  }\r\n\r\n  //Animation for when the Player hovers over the Enter button in the Enter page\r\n\r\n  reachAnimation(){\r\n    const reach = anime({\r\n        targets: '#backgroundanimation',\r\n        points: [\r\n          {value:  \"330 300 275 60 634 190 902 43 851 292 1059 170 850 470 1020 610 780 657 870 788 593 602 178 830 387 484 65 518 219 310 19 133\"\r\n        },\r\n        {value: \"280 70 495 190 634 40 732 223 991 62 820 290 1010 400 820 470 1010 697 760 658 653 832 438 680 137 714 295 508 89 420 269 313\"}\r\n        ,{\r\n            value:  \"380 270 295 90 664 210 872 23 821 262 1159 210 810 450 980 570 810 627 840 818 533 632 138 780 337 514 95 558 269 390 69 193\"},\r\n\r\n          ],\r\n        easing: 'easeInOutExpo',\r\n        direction: 'alternate',\r\n        duration: 2000,\r\n        loop: true\r\n      });\r\n    return reach;\r\n  }\r\n\r\n  //Animation for when the player clicks on the Enter button in the Enter page\r\n\r\n  spreadAnimation(){\r\n      anime({\r\n        targets: '#backgroundanimation',\r\n        points: [{value: \"350 270 380 181 580 182 822 228 991 182 919 280 980 490 820 520 810 587 700 492 553 522 388 599 391 404 215 388 289 340 231 283\"},\r\n          {value:  \"-20 -15 250 -201 550 -20 862 -18 1401 -302 1219 260 1480 690 1220 900 1010 1010 730 900 533 920 88 1199 -201 850 -200 -20 269 340 -151 203\"\r\n        }, {value: \"-20 -15 250 -201 550 -20 862 -18 1401 -302 1219 260 1480 690 1220 900 1010 1010 730 900 533 920 88 1199 -201 850 -200 -20 269 340 -151 203\"\r\n      }],\r\n        easing: 'easeInOutExpo',\r\n        duration: 5000,\r\n        loop: false\r\n      });\r\n  }\r\n\r\n  render(){\r\n        let {hover, clicked} = this.props\r\n        const jelly = this.jellyAnimation()\r\n        const reach = this.reachAnimation()\r\n        if(!hover){\r\n          reach.pause()\r\n          jelly.play()\r\n        } else {\r\n          jelly.pause()\r\n          reach.play()\r\n        }\r\n        if(clicked){\r\n          anime.remove('#backgroundanimation')\r\n          this.spreadAnimation()\r\n        }\r\n    return(<svg id=\"background\" viewBox=\"0 0 1180 850\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" preserveAspectRatio=\"none\">\r\n      <polygon id='backgroundanimation' points=\"-20 -15 250 -201 550 -20 862 -18 1401 -302 1219 260 1480 690 1220 900 1010 1010 730 900 533 920 88 1199 -201 850 -200 -20 269 340 -151 203\"\r\n          stroke=\"black\" fill=\"black\" strokeWidth=\"3\"/>\r\n          </svg>\r\n\r\n)\r\n  }\r\n}\r\nexport default BackgroundAnimation\r\n","import React, {Component} from 'react';\nimport './styles/EnterButton.css'\n\n/**\n * Enter button on Enter page at landing\n */\n\nclass EnterButton extends Component{\n\n  render(){\n    const {handleClick, mouseOver, mouseOut} = this.props\n    return(\n      <button onClick={handleClick} onMouseOver={mouseOver} onMouseOut={mouseOut} className=\"ui button\" id=\"enterbtn\">Enter</button>\n    )\n  }\n}\n\nexport default EnterButton\n","import React, {Component} from 'react'\r\nimport anime from 'animejs'\r\nimport './styles/Logo.css'\r\n\r\n/**\r\n * Logo on Enter page at Landing\r\n */\r\n\r\nclass Logo extends Component{\r\n  componentDidMount(){\r\n    //Logo animation for appearing\r\n    anime({\r\n      targets: 'svg path',\r\n      strokeDashoffset: [anime.setDashoffset, 0],\r\n      easing: 'easeInOutSine',\r\n      duration: 1500,\r\n      delay: function(el, i) { return i * 250 },\r\n      direction: 'alternate',\r\n      loop: false\r\n    })\r\n  }\r\n  render(){\r\n    return <svg id=\"logo\" width=\"575\" height=\"64\" viewBox=\"0 0 575 64\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n    <path d=\"M19.896 44.24H46.584L33.24 8.81601L19.896 44.24ZM53.208 61.712L48.792 49.904H17.784L13.368 61.712H3L26.04 2H40.536L63.672 61.712H53.208Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    <path d=\"M117.464 2H127.16V61.712H117.08L85.4963 13.424V61.712H75.8003V2H86.2643L117.464 49.904V2Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    <path d=\"M190.005 2V7.664H168.789V61.712H158.229V7.664H137.013V2H190.005Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    <path d=\"M237.115 56.048H269.851V61.712H226.363V2H268.507V7.664H237.115V28.304H264.571V33.968H237.115V56.048Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    <path d=\"M292.579 61.712H283.363V2H294.691L315.811 40.784L337.699 2H349.123V61.712H339.811V14L320.131 48.752H311.587L292.579 14V61.712Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    <path d=\"M406.917 33.584V10.64C406.917 9.36 406.725 8.56 406.341 8.24C405.957 7.856 405.157 7.664 403.941 7.664H377.733V36.56H403.941C405.157 36.56 405.957 36.368 406.341 35.984C406.725 35.6 406.917 34.8 406.917 33.584ZM367.269 2H409.797C414.853 2 417.381 4.528 417.381 9.584V34.64C417.381 39.696 414.853 42.224 409.797 42.224H377.733V61.712H367.269V2Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    <path d=\"M432.727 2H443.479V61.712H432.727V2Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    <path d=\"M473.077 7.664V34.64H499.381C500.661 34.64 501.461 34.448 501.781 34.064C502.165 33.68 502.357 32.88 502.357 31.664V10.64C502.357 9.36 502.165 8.56 501.781 8.24C501.461 7.856 500.661 7.664 499.381 7.664H473.077ZM473.077 40.304V61.712H462.613V2H505.237C510.293 2 512.821 4.528 512.821 9.584V32.72C512.821 37.776 510.293 40.304 505.237 40.304H499.765L513.301 61.712H502.357L489.205 40.304H473.077Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    <path d=\"M539.927 56.048H572.663V61.712H529.175V2H571.319V7.664H539.927V28.304H567.383V33.968H539.927V56.048Z\" stroke=\"white\" strokeWidth=\"3\" mask=\"url(#path-1-outside-1)\"/>\r\n    </svg>\r\n  }\r\n\r\n}\r\n\r\nexport default Logo;\r\n","import React, {Component} from 'react';\r\nimport {CSSTransition} from 'react-transition-group'\r\nimport BackgroundAnimation from '../components/BackgroundAnimation'\r\nimport EnterButton from '../components/EnterButton'\r\nimport Logo from '../components/Logo'\r\nimport anime from 'animejs'\r\nimport '../App.css'\r\nimport './styles/Enter.css'\r\n\r\n/**\r\n * Home Page with animation and an Enter button\r\n */\r\nclass Enter extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    //Animation depends on whether the mouse is hovering over button\r\n    this.state = {\r\n      hover: false,\r\n      clicked: false\r\n    }\r\n    this.mouseOver = this.mouseOver.bind(this)\r\n    this.mouseOut = this.mouseOut.bind(this)\r\n    this.handleClick = this.handleClick.bind(this)\r\n\r\n  }\r\n\r\n  mouseOver(){\r\n    if(!this.state.clicked){\r\n      this.setState({hover: true})\r\n\r\n    }\r\n  }\r\n\r\n  mouseOut(){\r\n    if(!this.state.clicked){\r\n      this.setState({hover: false})\r\n    }\r\n  }\r\n\r\n  /**\r\n   * If the Enter button is clicked, handles the processes necessary\r\n   */\r\n\r\n  handleClick(){\r\n    const {changePage} = this.props\r\n    if(!this.state.clicked){\r\n      this.setState({clicked:true})\r\n      //Fades out logo and enter button\r\n      anime({\r\n        targets: '#enterButton',\r\n        opacity: 0,\r\n        easing: 'easeInOutSine'\r\n      })\r\n      anime({\r\n        targets: '#logo path',\r\n        strokeDashoffset: [0, anime.setDashoffset],\r\n        easing: 'easeInOutSine',\r\n        duration: 1100,\r\n        loop: false\r\n      })\r\n      //Changes the page after a period of time to allow animations\r\n      setTimeout(()=>{\r\n        changePage('prequel')\r\n      }, 4000)\r\n    }\r\n  }\r\n\r\n  //Fades in the button at the beginning\r\n  componentDidMount(){\r\n    setTimeout(()=> anime({\r\n      targets: '#enterButton',\r\n      opacity: 1,\r\n      easing: 'easeInOutSine'\r\n    }), 4000)\r\n  }\r\n  render(){\r\n    let {hover, clicked} = this.state\r\n    return(\r\n      <CSSTransition\r\n        in={true}\r\n        appear={true}\r\n        timeout={500}\r\n        classNames=\"fade\">\r\n        <div className=\"enter-container\" data-test=\"component-enter\">\r\n          <BackgroundAnimation hover={hover} clicked={clicked}/>\r\n          <Logo />\r\n          <div id=\"enterButton\">\r\n            <EnterButton data-test=\"enter-button\" mouseOver={this.mouseOver} mouseOut={this.mouseOut} className='ui button enterButton' handleClick={this.handleClick}/>\r\n          </div>\r\n        </div>\r\n      </CSSTransition>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Enter;\r\n","import React, {Component} from 'react';\r\nimport '../App.css'\r\nimport './styles/Prequel.css'\r\nimport {CSSTransition} from 'react-transition-group'\r\n\r\n//Prequel Narrative\r\nconst narrative = ['', \"You are a young queen ant. You've spent your entire childhood inside your mother's colony. While lacking for nothing, recently you've felt a bit restless. You and the rest of the young queens and winged males feel like there's something different these few days.\",\r\n\"A strange urge seems to pulling you from your home and you finally can't resist. Along with your brothers and sister spread to take flight, scattering quickly across the land and mating with ants from other colonies. For a few weeks, the skies are covered in young winged ants.\",\r\n\"Soon, you set off searching for a place to build your own colony. Endless dangers await you along the way and the vast majority of young queen ants like yourself will survive to safely establish a colony. Will you?\"]\r\n\r\n\r\n/**\r\n * Shows the Prequel page before entering game\r\n */\r\nclass Prequel extends Component{\r\n  constructor(props){\r\n    super(props);\r\n    this.state={\r\n      story: []\r\n    }\r\n    this.fadeThroughStory = this.fadeThroughStory.bind(this)\r\n    this.fadeThroughStory(narrative)\r\n  }\r\n\r\n  fadeThroughStory(arr){\r\n    let count = 0;\r\n    var interval = setInterval(()=>{\r\n      let nextLine = arr[count]\r\n      if(count< arr.length){\r\n        this.setState({story: [...this.state.story, nextLine]})\r\n        count++\r\n      } else{\r\n        this.setState({story: [...this.state.story,\r\n            <button onClick={()=> this.props.changePage('choice')}>Start</button>]})\r\n        clearInterval(interval)\r\n      }\r\n    }, 1000)\r\n\r\n  }\r\n  render(){\r\n    return (\r\n      <div id=\"prequel\" data-test=\"component-prequel\">\r\n        {this.state.story.map((line,idx)=> (\r\n          <CSSTransition\r\n            in={true}\r\n            appear={true}\r\n            key={idx}\r\n            timeout={500}\r\n            classNames=\"fade\"\r\n          >\r\n            <div key={idx}>{line}</div>\r\n          </CSSTransition>\r\n        ))\r\n        }\r\n      </div>)\r\n  }\r\n}\r\n\r\nexport default Prequel;\r\n","export const gameStatusNarratives = {\r\n  HEALTHY: \"\",\r\n  HUNGRY : \"Your colony is hungry. If you do not find more food soon, your colony will die.\",\r\n  THIRSTY : \"Your colony is thirsty. If you do not find more water soon, your colony will die.\",\r\n  STARVING: \"Your ants are STARVING! Some of your ants have died from starvation and the rest will follow soon.\",\r\n  DEHYDRATED: \"Your ants are DEHYDRATED! Some of your ants have died from lack of water and the rest will follow soon.\",\r\n  DEATH_BY_STARVATION: \"All of your colony has slowly withered from the lack of food. \",\r\n  DEATH_BY_DEHYDRATION : \"Your ants have dried up!\",\r\n  KILLED_BY_ANTS : \"KILLED_BY_ANTS\",\r\n  KILLED_BY_HUMANS : 'The humans have found you a nuisance and waged war! After a great fight, they manage to dig you out of your home. As you look up at the sky one last time, a pair of giant hands descend upon you. Just once instant, and then blackness. You have been killed by humans.',\r\n  KILLED_BY_PREDATORS : \"KILLED_BY_PREDATORS\",\r\n  CAPTURED_BY_ANTS : 'A neighboring ant colony wages war against you. You are no match to their overwhelming forces and your home is theirs to plunder. Their workers drag you back to their colony to be an unwilling slave. You will spend the rest of your days birthing eggs for your enemies.',\r\n  CAPTURED_BY_HUMANS :  'The humans have dug up your colony to examine the inner workings of your home. Your workers viciously attempt to fend them off, but they came prepared with gloves. They manage to find you and put you in a small plastic test tube for further experiment. As you are lifted into the sky in their hands, you see the last glimpses of the remains of your colony. You have been captured by humans. ',\r\n\r\n}\r\n","export const gStatus = {\r\n  HEALTHY : \"HEALTHY\",\r\n  HUNGRY : \"HUNGRY\",\r\n  THIRSTY : \"THIRSTY\",\r\n  STARVING: \"STARVING\",\r\n  DEHYDRATED: \"DEHYDRATED\",\r\n  DEATH_BY_STARVATION: \"DEATH_BY_STARVATION\",\r\n  DEATH_BY_DEHYDRATION : \"DEATH_BY_DEHYDRATION\",\r\n  KILLED_BY_ANTS : \"KILLED_BY_ANTS\",\r\n  KILLED_BY_HUMANS : \"KILLED_BY_HUMANS\",\r\n  KILLED_BY_PREDATORS : \"KILLED_BY_PREDATORS\",\r\n  CAPTURED_BY_ANTS : \"CAPTURED_BY_ANTS\",\r\n  CAPTURED_BY_HUMANS : \"CAPTURED_BY_HUMANS\"\r\n}\r\n","import {gameStatusNarratives} from './narrative'\r\nimport {gStatus} from './status'\r\n\r\nexport function selectRandomfromArray(arr){\r\n  if(arr.length===0) return null;\r\n  return arr[Math.floor(Math.random()*arr.length)];\r\n}\r\n\r\nexport function randomIntFromInterval(min,max)\r\n{\r\n    return Math.floor(Math.random()*(max-min+1)+min);\r\n}\r\n\r\nexport function decideIfGameIsPlaying(status){\r\n  let game, notification;\r\n  const filteredStatus = status.filter(s=> s!==gStatus.HEALTHY && s!==gStatus.THIRSTY &&\r\n      s!==gStatus.HUNGRY && s!==gStatus.STARVING && s!==gStatus.DEHYDRATED)\r\n  if(filteredStatus.length===0){\r\n      game = true;\r\n      notification= null;\r\n  } else{\r\n    game = false;\r\n    notification = filteredStatus.reduce((accum, s) => accum.concat(gameStatusNarratives[s], \" \"), \"\")\r\n  }\r\n  return {\r\n    game,\r\n    notification\r\n  }\r\n}\r\n//exports a notification if necessary and game boolean\r\n","import React from 'react'\r\nexport const descriptions = {\r\n  temperature: [{\r\n    desc: 'frozen',\r\n    story: <span> The ground is <span className='texteffect freezing'>frozen solid</span> and difficult to burrow into. <span className='texteffect freezing'>Cold days and nights below freezing </span>are probably the norm here. </span>,\r\n    risk: 10,\r\n    resource: 3},{\r\n    desc: 'cold',\r\n    story: <span> <span className='texteffect snow'>A fresh snowfall has blanketed the area with a layer of white and it shows no signs of melting.</span> The temperature here is probably cold year round. </span>,\r\n    risk: 8,\r\n    resource: 4},{\r\n    desc: 'chilly',\r\n    story: <span> <span className='texteffect snow'>Traces of melted snow are scattered throughout the area and you can still see white on the mountain peaks in the distance.</span> The wind never really stops and it's a bit chilly. </span>,\r\n    risk: 5,\r\n    resource: 5},{\r\n    desc: 'mild',\r\n    story: <span>It's a pleasant day and <span className='texteffect warm'>the sun shines down warming the area gently.</span> Temperate weather seems to be the norm here. </span>,\r\n    risk: 2,\r\n    resource: 5},{\r\n    desc: 'warm',\r\n    story: <span>It feels like <span className='texteffect warm'>summer is on the horizon </span> here. Everything feels a bit stuffy, but it's not uncomfortable if you get used to it.</span>,\r\n    risk: 3,\r\n    resource: 6},{\r\n    story: <span>The sun never seems to let up here. <span className='texteffect hot'>Heat seems to radiate off of the ground, the rocks, and even the foliage.</span> </span>,\r\n    desc: 'hot',\r\n    risk: 5,\r\n    resource: 6}, {\r\n    story: <span className='texteffect hot'>It is so bloody hot that you feel like you're being roasted alive. The ground is SEARING and your little feet feel like they're burning. </span>,\r\n    desc: 'searing',\r\n    risk: 8,\r\n    resource: 3\r\n  }],\r\n  humidity: [{\r\n    desc: 'very wet',\r\n    story: <span>With every step you take, water seems to ooze out of the ground. <span className='texteffect soaked'>Everything is soaked and beads of water shimmer.</span> Heavy rain and floods are definitely common here. </span>,\r\n    risk: 8,\r\n    resource:6}, {\r\n    desc: 'wet',\r\n    story: <span><span className='texteffect lush'>It's very lush here </span>and there is so much water vapor in the air that you never feel dry. There always seems to be a light rainstorm on the horizon. </span>,\r\n    risk: 5,\r\n    resource: 5},{\r\n    story: <span>There doesn't seem to be much humidity in the air and <span className='texteffect dry'>everything looks dry.</span> It probably doesn't rain much around here and storms are brief. </span>,\r\n    desc: 'dry',\r\n    risk: 7,\r\n    resource: 4}, {\r\n    story: <span><span className='texteffect dry'>The air is extremely parched and as soon as you arrive, you feel the water being sucked out of you.</span> You can barely find any traces of water around and don't see signs of it raining anytime soon. </span>,\r\n    desc: 'very dry',\r\n    risk: 10,\r\n    resource:3}],\r\n  environment: [{\r\n      desc:'in a forest',\r\n      story: <span className='texteffect forest'>Tall trees tower over you and the canopy blankets out half of the sky. </span>\r\n    },{\r\n      desc: 'in the mountains',\r\n      story: <span>All around are <span className='texteffect mountain'>gigantic mountains</span> that make you feel like an ant and rightfully so. </span>\r\n    },{\r\n      desc: 'by a meadow',\r\n      story: <span className='texteffect meadow'>Golden grass rises out of the ground. There is no end to this sea of yellow as far as the eyes can see. </span>\r\n    },{\r\n      desc: 'in a clearing',\r\n      story: <span>There is foliage nearby, but you are in a small clearing. The grass is short and <span className='texteffect gold'>rays of light shine patches of gold</span> around you. </span>\r\n    },{\r\n      desc: 'on the side of a hill',\r\n      story: <span>Following a gentle slope, it seems to be the side of a hill. Foliage rises up occasionally here or there and you are surrounded by other hills of similar nature. </span>\r\n    }],\r\n  home: [{\r\n    desc: 'mound',\r\n    story: <span>A mound seems to provide shelter from danger and the elements and may be a good home. </span>\r\n    }, {\r\n      desc: 'crack',\r\n      story: <span>There is a long narrow crack in the ground and nothing seems to be inside. This may be a good place to start a colony. </span>\r\n    }, {\r\n      desc: 'abandoned ant colony',\r\n      story: <span>From the distance it seems like a small mound, but as you move closer it's obvious that this used to be an ant colony. The tunnels are all empty and the scent of ants is long gone. This may be a good home. </span>\r\n    }, {\r\n      desc: 'hole',\r\n      story: <span>To your side there is a deep hole in the ground that was dug by an animal of some sort. There is no resident right now and may be a good home. </span>\r\n    }],\r\n  human: [{\r\n    story: <span className='texteffect danger'>There is a human city located nearby. The human stench makes you uneasy and cautious. </span>,\r\n    risk: 10}, {\r\n    story: <span className='texteffect caution'>This area is located on the outskirts of human civilization. While you are not surrounded by humans, it could still be dangerous. </span>,\r\n    risk: 8},{\r\n    story: <span className='texteffect warning'>Human trails can be seen here, and there are few dwellings in direct line of sight. Human larvae may trod through here on their quest to grow into more dangerous humans. </span>,\r\n    risk: 6},{\r\n    story: <span className='texteffect okay'>The scent of humans is faint, but still regular. However, in this day and age it's difficult to be completely free of these nuisances. </span>,\r\n    risk: 4},{\r\n    story: <span className='texteffect good'>You can tell that humans rarely gather or dwell near here. While there may be the occasional family outing or adventurer, it doesn't seem too likely. </span>,\r\n    risk: 2}],\r\n  ant: [{\r\n    story:<span className='texteffect danger'>It is packed with ant colonies. All around, you can see little mounds poking out of the ground and workers shuffling to and from their homes. </span>,\r\n    risk:10\r\n  }, {\r\n    story: <span className='texteffect caution'>There are quite a few colonies around you. The immediate space is empty, but scent trails criss cross all over the area. </span>,\r\n    risk: 8\r\n  }, {\r\n    story: <span className='texteffect warning'>Ant neighbors are common here and seem to pass through the area sometimes. There seem to be no clear boundary. </span>,\r\n    risk: 6\r\n  }, {\r\n    story: <span className='texteffect okay'>There are a few ant colonies around, but there is a quite a distance separating you and them. </span>,\r\n    risk: 4\r\n  }, {\r\n    story: <span className='texteffect good'>Ants don't seem to have populated this area and you barely have any ant neighbors. </span>,\r\n    risk: 2\r\n  }],\r\n  animal: [{\r\n    story: <span className='texteffect danger'>Predators are everywhere and moving safely in the daytime may be difficult. </span>,\r\n    risk:10\r\n  }, {\r\n    story: <span className='texteffect caution'>Ant-eating animals are abound and seem to pass through here often. </span>,\r\n    risk: 8\r\n  }, {\r\n    story: <span className='texteffect warning'>A diverse arrangement of life is here and some of them may find ants to be a tasty snack. </span>,\r\n    risk: 6\r\n  }, {\r\n    story: <span className='texteffect okay'>A few animal trails are around, but you don't see them today. </span>,\r\n    risk: 4\r\n  }, {\r\n    story: <span className='texteffect good'>Barely any wildlife here seems to be of the ant-eating type. Hopefully this means there won't be much predation. </span>,\r\n    risk: 2\r\n  }]\r\n}\r\n","export const SET_HOME = \"SET_HOME\";\r\nexport const UPDATE_FUEL = \"UPDATE_FUEL\"\r\nexport const SET_STORE = \"SET_STORE\"\r\nexport const UPDATE_GAMESTATUS = \"UPDATE_GAMESTATUS\"\r\nexport const UPDATE_CHOICE = 'UPDATE_CHOICE'\r\nexport const UPDATE_ALL = \"UPDATE_ALL\"\r\nexport const SET_EVENT = \"SET_EVENT\"\r\nexport const RESET_STATE = \"RESET_STATE\"\r\nexport const UPDATE_NOTIFICATION = \"UPDATE_NOTIFICATION\"\r\nexport const RECORD_HOME = \"RECORD_HOME\"\r\nexport const ADD_DAY=\"ADD_DAY\"\r\nexport const UPDATE_MAX_ANTS = \"UPDATE_MAX_ANTS\"\r\n\r\nexport function setHome(home){\r\n  return {\r\n    type: SET_HOME,\r\n    home\r\n  }\r\n}\r\n\r\nexport function updateFuel(fuel){\r\n  return {\r\n    type: UPDATE_FUEL,\r\n    fuel\r\n  }\r\n}\r\n\r\nexport function setStore(store){\r\n  return {\r\n    type: SET_STORE,\r\n    store\r\n  }\r\n}\r\n\r\nexport function updateGameStatus(game){\r\n  return{\r\n    type: UPDATE_GAMESTATUS,\r\n    game\r\n  }\r\n}\r\n\r\nexport function updateChoice(choice){\r\n  return{\r\n    type: UPDATE_CHOICE,\r\n    choice\r\n  }\r\n}\r\n\r\nexport function updateAll(state){\r\n  return{\r\n    type: UPDATE_ALL,\r\n    state\r\n  }\r\n}\r\n\r\nexport function setEvent(event){\r\n  return{\r\n    type: SET_EVENT,\r\n    event\r\n  }\r\n}\r\n\r\nexport function resetState(){\r\n  return{\r\n    type: RESET_STATE\r\n  }\r\n}\r\n\r\nexport function updateNotification(notification){\r\n  return{\r\n    type: RESET_STATE,\r\n    notification\r\n  }\r\n}\r\n\r\nexport function addDay(){\r\n  return{\r\n    type: ADD_DAY,\r\n  }\r\n}\r\n\r\nexport function recordHome(home){\r\n  return{\r\n    type: RECORD_HOME,\r\n    home\r\n  }\r\n}\r\n\r\nexport function updateMaxAnts(ants){\r\n  return{\r\n    type: UPDATE_MAX_ANTS,\r\n    ants\r\n  }\r\n}\r\n","export const statusEffects = {\r\n  STARVING: [{\r\n    type: \"ant\",\r\n    subtype: \"worker\",\r\n    number: 0.6\r\n  }, {\r\n    type: \"ant\",\r\n    subtype: \"pupae\",\r\n    number: 0.6\r\n  }, {\r\n    type: \"ant\",\r\n    subtype: \"larvae\",\r\n    number: 0.8\r\n  }, {\r\n    type: \"ant\",\r\n    subtype: \"eggs\",\r\n    number: 0.2\r\n  }],\r\n  DEHYDRATED: [{\r\n    type: \"ant\",\r\n    subtype: \"worker\",\r\n    number: 0.6\r\n  }, {\r\n    type: \"ant\",\r\n    subtype: \"pupae\",\r\n    number: 0.6\r\n  }, {\r\n    type: \"ant\",\r\n    subtype: \"larvae\",\r\n    number: 0.8\r\n  }, {\r\n    type: \"ant\",\r\n    subtype: \"eggs\",\r\n    number: 0.2\r\n  }]\r\n  \r\n}\r\n","import {gStatus} from './status'\r\nimport {gameStatusNarratives} from './narrative'\r\n\r\nexport function gameOver(reduxState){\r\n  let status = [...reduxState.status];\r\n  if(reduxState.store.food === 0){\r\n    if(status.some(s=> s=== gStatus.HUNGRY)){\r\n      status = status.map(s=> (s=== gStatus.HUNGRY) ? gStatus.STARVING: s)\r\n    }else if(status.some(s=> s=== gStatus.STARVING)) {\r\n      status = status.map(s=>(s=== gStatus.STARVING) ? gStatus.DEATH_BY_STARVATION:s\r\n      )\r\n    }else{\r\n      status = status.filter(s => s!== gStatus.HEALTHY);\r\n      status = [...status, gStatus.HUNGRY]\r\n    }\r\n  }\r\n  if(reduxState.store.water === 0){\r\n    if(status.some(s=> s=== gStatus.THIRSTY)){\r\n      status = status.map(s=> (s=== gStatus.THIRSTY) ? gStatus.DEHYDRATED: s)\r\n    }else if(status.some(s=> s=== gStatus.DEHYDRATED)) {\r\n      status = status.map(s=> (s=== gStatus.DEHYDRATED) ? gStatus.DEATH_BY_DEHYDRATION: s)\r\n    }else{\r\n      status = status.filter(s => s!== gStatus.HEALTHY);\r\n      status = [...status, gStatus.THIRSTY]\r\n    }\r\n  }\r\n  if(reduxState.store.water!==0){\r\n    status = status.filter(s=> (s!== gStatus.THIRSTY && s!== gStatus.DEHYDRATED))\r\n  }\r\n  if(reduxState.store.food!==0){\r\n    status = status.filter(s=> (s!== gStatus.HUNGRY && s!== gStatus.STARVING))\r\n  }\r\n\r\n  let narrative = status.map(s=> gameStatusNarratives[s])\r\n  return {\r\n    narrative,\r\n    newState: {\r\n      ...reduxState, status\r\n    }\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport generateHome from '../utils/home'\r\nimport {setHome, updateGameStatus, updateAll, recordHome, updateMaxAnts} from '../actionCreators'\r\nimport {applyEffectsToStatus, calcEventEffects} from '../utils/effect';\r\nimport {addStatusEffects} from '../utils/general/statusHelpers'\r\nimport {gameOver} from '../utils/general/gameHelpers'\r\nimport {decideIfGameIsPlaying} from '../utils/general/general'\r\nimport '../App.css'\r\nimport './styles/Choice.css'\r\nimport {CSSTransition} from 'react-transition-group'\r\n\r\n/**\r\n * Choice is a page that generates a home and allows the player to choose whether to stay or move on\r\n */\r\nexport class Choice extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    //Checks if there is a status effect\r\n    const {narrative} = gameOver(this.props.state)\r\n    this.state={\r\n      story:[],\r\n      statusNarrative: narrative,\r\n      currentHome: null\r\n    }\r\n    this.selectHome = this.selectHome.bind(this)\r\n    this.generateHomeAndNarrative = this.generateHomeAndNarrative.bind(this)\r\n    this.updateGameStatus = this.updateGameStatus.bind(this)\r\n  }\r\n  componentWillMount(){\r\n    this.updateGameStatus()\r\n    this.generateHomeAndNarrative()\r\n    this.props.updateMaxAnts(this.props.state.ants.worker + 1)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    clearInterval(this.interval)\r\n    const updatedState = applyEffectsToStatus(this.props.state.event, this.props.state)\r\n    updatedState.event = []\r\n    this.props.updateAll(updatedState)\r\n  }\r\n\r\n  /**\r\n   * Generates a new Home and adds the narrative to the state at intervals to stagger rendering\r\n   */\r\n  generateHomeAndNarrative(){\r\n    let {story, currentHome} = generateHome()\r\n    let beginning = [this.state.statusNarrative, \"You have wandered upon a new area.\"]\r\n    let newHomeDesc = beginning.concat(story).concat([<div key={'sdiv'} className=\"selections\">\r\n              <button className=\"ui button\" onClick={()=> this.props.changePage('searching')}>Keep Looking</button>\r\n              <button className=\"ui button\" onClick={()=>{this.selectHome(this.state.currentHome)}}>Settle Down</button>\r\n            </div>])\r\n    this.setState({currentHome})\r\n    this.interval = setInterval(()=> this.setState({story: [...this.state.story, newHomeDesc.splice(0, 1)]}), 1500)\r\n  }\r\n\r\n  updateGameStatus(){\r\n    //determines if status effects should be applied or if game should be over\r\n    let {newState} = gameOver(this.props.state);\r\n    const statusEvents = addStatusEffects(newState.status);\r\n    const event = (statusEvents.length>0)? statusEvents.map(e=> calcEventEffects(e, newState)): [];\r\n    const updatedNotification = decideIfGameIsPlaying(newState.status)\r\n    newState = Object.assign({}, newState, event)\r\n    const updatedState = Object.assign({}, newState, updatedNotification, {event})\r\n    //updates the redux state to reflect changes\r\n    this.props.updateAll(updatedState)\r\n\r\n  }\r\n\r\n  /**\r\n   * If the Player chooses to 'settle', handle everything needed to set the home\r\n   * @param {Object} home - The home object that was generated\r\n   */\r\n\r\n  selectHome(home){\r\n    this.props.setHome(home)\r\n    this.props.recordHome(home.description[0])\r\n    //ensure that the home is set before component is unmounted\r\n    setTimeout(()=>{\r\n      this.props.changePage('gameplay')\r\n    }, 0)\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div id=\"choice\" data-test=\"component-choice\">\r\n        {(this.props.state.game)?\r\n          this.state.story.map((line, idx) => (\r\n            <CSSTransition\r\n              in={true}\r\n              appear={true}\r\n              key={idx}\r\n              timeout={500}\r\n              classNames='fade'>\r\n                <div key={line[0]+line.length+idx} className=\"narrative\"> {line} </div>\r\n            </ CSSTransition>\r\n          )) :null}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n  return {\r\n    state: {...reduxState}\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {setHome, updateGameStatus, updateAll, recordHome, updateMaxAnts})(Choice)\r\n","import {selectRandomfromArray} from '../general/general'\r\nimport React from 'react'\r\nimport {descriptions} from './descriptions'\r\n\r\n// Example of format of home object\r\n// home: {\r\n//   description: chilly mound in a forest,\r\n//   resources: {\r\n//     food: high,\r\n//     water: medium\r\n//   },\r\n//   risks: {\r\n//     human: high,\r\n//     animal: medium,\r\n//     ant: low\r\n//   },\r\n//   weather: {\r\n//     temperature: {desc: chilly, state: cold},\r\n//     humidity: {desc: }\r\n//   }\r\n// }\r\n\r\n\r\n\r\nexport default function generateHome(){\r\n  let temp = selectRandomfromArray(descriptions.temperature)\r\n  let humid = selectRandomfromArray(descriptions.humidity)\r\n  let environ = selectRandomfromArray(descriptions.environment)\r\n  let home = selectRandomfromArray(descriptions.home)\r\n  let anirisk = selectRandomfromArray(descriptions.animal)\r\n  let hrisk = selectRandomfromArray(descriptions.human)\r\n  let arisk = selectRandomfromArray(descriptions.ant)\r\n  const story = [<div>{temp.story} {humid.story} {environ.story}</div>, <div>{anirisk.story} {hrisk.story} {arisk.story} </div>, home.story]\r\n  let currentHome = {description: [`A ${humid.desc} and ${temp.desc} in a ${home.desc} ${environ.desc}.`],\r\n      resources: {\r\n        food: temp.resource,\r\n        water: humid.resource\r\n      },\r\n      risk: {\r\n        human: hrisk.risk,\r\n        animal: 5,\r\n        ant: arisk.risk\r\n      },\r\n      weather: {\r\n        temperature: {\r\n          desc: temp.desc,\r\n          risk: temp.risk\r\n        },\r\n        humidity: {\r\n          desc: humid.desc,\r\n          risk: humid.risk\r\n        }\r\n      }\r\n\r\n  }\r\n  return {\r\n    story,\r\n    currentHome\r\n  }\r\n\r\n}\r\n","import {statusEffects} from './effects';\r\n\r\n//Takes an array of statuses and returns the effects that should be applied to the game\r\nexport function addStatusEffects(status){\r\n    let effects = []\r\n    if(!status) return effects;\r\n    status.map(stat=>{\r\n        let effect = statusEffects[stat];\r\n        if(effect){\r\n            effects = effects.concat(effect)\r\n        }\r\n    })\r\n    return effects;\r\n}\r\n\r\n","import React from 'react'\r\nimport './styles/SearchingPreloader.css'\r\n\r\nconst SearchingPreloader = ()=>{\r\n  return(\r\n    <div className=\"preloader2\">\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n        <span></span>\r\n    </div>)\r\n}\r\n\r\nexport default SearchingPreloader\r\n","import React, {Component} from 'react';\r\nimport SearchingPreloader from '../components/SearchingPreloader'\r\nimport {setStore, updateChoice, addDay} from '../actionCreators'\r\nimport {calculateStoreDeductionForTravel} from '../utils/travel'\r\nimport {connect} from 'react-redux'\r\nimport './styles/Searching.css'\r\n\r\n/**\r\n * Searching Page\r\n * Displays whenever Player moves\r\n */\r\nexport class Searching extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    this.state={\r\n      choice: this.props.state.choice\r\n    }\r\n    this.props.updateChoice(null)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    //Decrease from store\r\n    let updatedStore = calculateStoreDeductionForTravel(this.props.state)\r\n    this.props.addDay()\r\n    this.props.setStore(updatedStore)\r\n  }\r\n  render(){\r\n    setTimeout(()=>{\r\n      this.props.changePage('choice')\r\n    },3000)\r\n    let change;\r\n    if(this.state.choice === \"change\"){\r\n      change = \"Your entire colony packs up and brings what they can as you search for a new home.\"\r\n    }\r\n    return (<div id=\"searching\" data-test=\"component-searching\">\r\n        <div className=\"change\"> {change} </div>\r\n        <SearchingPreloader />\r\n      </div>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n  return {\r\n     state: {\r\n       ...reduxState\r\n     }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {updateChoice, setStore, addDay})(Searching)\r\n","\r\nexport function calculateStoreDeductionForTravel(reduxState){\r\n  let {store, ants} = reduxState;\r\n  let baseRate = 10\r\n  let deductFromStore = 0.3*ants.eggs + (ants.larvae * 3) + 0.5*ants.pupae + ants.worker + baseRate\r\n  let newStore = {\r\n    food: Math.max(0, Math.floor(store.food - deductFromStore)),\r\n    water: Math.max(0, Math.floor(store.water - deductFromStore))\r\n  }\r\n  return newStore\r\n}\r\n\r\nexport function packUpAndGo(store, ants){\r\n  let newStore = {\r\n    food: Math.min(store.food, Math.max(ants.worker*15, 200)),\r\n    water: Math.min(store.water, Math.max(ants.worker*15, 200))\r\n  }\r\n  return newStore\r\n}\r\n","import React, {Component} from 'react'\r\nimport ReactTooltip from 'react-tooltip'\r\nimport {addDay} from '../actionCreators'\r\nimport {connect} from 'react-redux'\r\nimport './styles/Gameplay.css'\r\n\r\n/**\r\n * Gameplay Page\r\n * Renders 4 choices that player may choose to impact their game\r\n */\r\nexport class Gameplay extends Component{\r\n\r\n  /**\r\n   * Increases the day in the redux state by 1\r\n   */\r\n  componentWillUnmount(){\r\n    this.props.addDay()\r\n  }\r\n\r\n  render(){\r\n    let {setChoice, ants} = this.props\r\n    return (\r\n      <div id=\"gameplay\" data-test=\"component-gameplay\">\r\n        <h4>What would you like to do?</h4>\r\n              <div id=\"choices\">\r\n                  <div>\r\n                    <button onClick={()=> setChoice('birth')}>Focus on Birthing Workers</button>\r\n                    <button onClick={()=> setChoice('change')}>Change Homes</button>\r\n                  </div>\r\n\r\n                  {/**If there are no worker ants, then disable some choices. */}\r\n                    {(ants && ants.worker>0)?\r\n                      <div>\r\n                          <button onClick={()=> setChoice('defend')}>Be on the Defensive</button>\r\n                          <button onClick={()=> setChoice('expand')}>Scout for Resources</button>\r\n                      </div>:\r\n                      <div>\r\n                          <span data-tip data-for=\"worker-warning\"><button onMouseEnter={this.showWarning} disabled>Be on the Defensive</button></span>\r\n                          <span data-tip data-for=\"worker-warning\"><button onMouseEnter={this.showWarning} data-tip data-for=\"worker-warning\" disabled>Scout for Resources</button></span>\r\n                          <ReactTooltip className=\"warning-tooltip\" id=\"worker-warning\" type=\"error\" effect=\"solid\">\r\n                            <span>You must have at least one worker ant to do that.</span>\r\n                          </ReactTooltip>\r\n                      </div>\r\n                    }\r\n\r\n              </div>\r\n\r\n    </div>)\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n  return {\r\n    stats: reduxState.stats,\r\n    ants: reduxState.ants\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {addDay})(Gameplay)\r\n","export function calcCurrentAnts(reduxState, choice){\r\n  if(!reduxState) return resetAnts\r\n  let {ants, store} = reduxState;\r\n  let bonus = (choice === \"birth\") ? 1.5: 1\r\n  let foodPercentage = Math.max(1, store.food)/Math.max(200, ants.worker * 30);\r\n  let waterPercentage = Math.max(1,store.water)/Math.max(200, ants.worker * 30);\r\n  let storePercentage = (foodPercentage+ waterPercentage)/2\r\n  let newEggNum = Math.floor((storePercentage*Math.log(Math.max(1, ants.worker))*0.3+6)*bonus)\r\n  let newAntNums = {\r\n    eggs: Math.max(0, newEggNum),\r\n    larvae: Math.max(0, ants.eggs),\r\n    pupae: Math.max(0, ants.larvae),\r\n    worker: Math.max(ants.worker + ants.pupae, 0)\r\n  }\r\n  return newAntNums;\r\n}\r\n\r\nconst resetAnts= {\r\n  worker: 0,\r\n  pupae: 0,\r\n  larvae: 0,\r\n  eggs: 0\r\n}\r\n","export const categories = {\r\n  temperature: {\r\n    frozen: [\"t1\", \"t2\", \"t3\", \"t4\", \"t5\", \"t10\"],\r\n    cold: [\"t1\", \"t2\", \"t3\", \"t4\", \"t10\"],\r\n    chilly: [\"t1\", \"t2\", \"t3\", \"t10\"],\r\n    mild: [\"t1\", \"t6\", \"t10\"],\r\n    warm: [\"t6\", \"t7\"],\r\n    hot: [\"t6\", \"t7\", \"t8\", \"t11\"],\r\n    searing: [\"t6\", \"t7\", \"t8\", \"t11\"]\r\n  },\r\n  humidity: {\r\n    'very wet': [\"h1\", \"h3\", \"h5\"],\r\n    wet: ['h1', \"h3\"],\r\n    dry: ['h2', \"h6\", \"h4\"],\r\n    'very dry': ['h2', \"h6\", \"h4\"]\r\n  },\r\n  animal: {\r\n    'very low': [],\r\n    'low': [],\r\n    'medium': ['e4', 'e3', 'e4'],\r\n    'high': ['e1', 'e3', 'e4', 'e5'],\r\n    'very high': ['e1', 'e2', 'e3', 'e4', 'e5']\r\n  },\r\n  human: {\r\n    'very low': ['hu3', 'hu6'],\r\n    'low': ['hu3', 'hu5', 'hu6'],\r\n    'medium': ['hu2', 'hu3', 'hu4', 'hu6'],\r\n    'high': ['hu1', 'hu2', 'hu3', 'hu4', 'hu5', 'hu6'],\r\n    'very high': ['hu1', 'hu2', 'hu3', 'hu4', 'hu5', 'hu6', 'hu7', 'hu8']\r\n  },\r\n  ant: {\r\n    'very low': ['a8'],\r\n    'low': ['a3', 'a4', 'a6', 'a8'],\r\n    'medium': ['a3', 'a4', 'a5', 'a6', 'a8', 'a7'],\r\n    'high': ['a2', 'a3', 'a4', 'a5', 'a6', 'a8', 'a7'],\r\n    'very high': ['a1', 'a2', 'a3', 'a4', 'a5', 'a6', 'a8', 'a7']\r\n  }\r\n}\r\n","import {gStatus} from '../general/status'\r\n\r\nexport const eventsData = {\r\n  temperature: [{description: \"A freak snowstorm blows through. Many of your ants are caught while out gathering food and freeze to death\",\r\n                id: \"t1\",\r\n                effects: [{type: \"ant\",\r\n                subtype: 'worker',\r\n                number: 0.7}]\r\n                 }, {\r\n                description: 'The snow piles up and moving around becomes harder for your workers. You end up having to rely on your stores for while.',\r\n                id: \"t2\",\r\n                effects: [{type: 'resource',\r\n                subtype: 'food',\r\n                number: -1}]\r\n                },{\r\n                description: 'A sudden hailstorm batters your colony. You lose some of your workers.',\r\n                id: \"t3\",\r\n                effects: [{type: 'ant',\r\n                subtype: 'worker',\r\n                number: 0.9}]\r\n                }, {\r\n                description: 'Snow swirls around you and there is no visibility. Your entire colony is covered and many of your ants do not survive the night.',\r\n                id: \"t4\",\r\n                effects: [{type: 'ant',\r\n                subtype: 'worker',\r\n                number: 0.7}, {type: 'ant',\r\n                subtype: 'larvae',\r\n                number: 0.6}, {type: 'ant',\r\n                subtype: 'pupae',\r\n                number: 0.5}, {type: 'ant',\r\n                subtype: 'egg',\r\n                number: 0.3}]\r\n                }, {\r\n                description: 'A sudden drop in temperature causes the ground to freeze. Unable to regulate temperature, your young are affected.',\r\n                id: \"t5\",\r\n                effects: [{type: 'ant',\r\n                subtype: 'pupae',\r\n                number: 0.3}, {type: 'ant',\r\n                subtype: 'larvae',\r\n                number: 0.2}, {type: 'ant',\r\n                subtype: 'egg',\r\n                number: 0.1}]\r\n                }, {\r\n                description: 'A heat wave passes over the area, causing foliage to shrivel and to dry up. Food becomes scarce and in order to stay healthy, your ants use up more water stores than usual.',\r\n                id: \"t6\",\r\n                effects: [{type: 'store',\r\n                subtype: 'food',\r\n                number: 0.9}, {\r\n                  type: \"store\",\r\n                  subtype: 'water',\r\n                  number: 0.6\r\n                }, {\r\n                  type: 'resource',\r\n                  subtype: 'food',\r\n                  number: -1\r\n                }, {\r\n                  type: 'resource',\r\n                  subtype: 'water',\r\n                  number: -1\r\n                }]\r\n                }, {\r\n                description: 'Due to the heat, a small fire starts up and burns through the area. Many of the animals flee, and you retreat underground to escape the blazing heat. When you emerge, you count your workers and have suffered minimal amount of damage.',\r\n                id: \"t7\",\r\n                effects: [{type: 'ant',\r\n                subtype: 'worker',\r\n                number: 0.9}]\r\n                }, {\r\n                description: 'A blazing wildfire arises out of the night and spreads through the area faster than a butterfly can flap its wings. It takes you by surprise. While retreating back into your colony to avoid the searing hot temperatures, many of your workers are unable to survive.',\r\n                id: \"t8\",\r\n                effects: [{type: 'ant',\r\n                subtype: 'worker',\r\n                number: 0.3}]\r\n                }, {\r\n                description: \"The prolonged heat makes some of your workers woozy. Their productivity is decreased and you're forced to rely on your stores for upkeep\",\r\n                id: \"t9\",\r\n                effects: [{type: 'store',\r\n                subtype: 'food',\r\n                number: 0.9}, {\r\n                  type: 'store',\r\n                  subtype: 'water',\r\n                  number: 0.8\r\n                }]\r\n                }, {\r\n                description: \"The abnormally sunny weather lifts your spirits and warms the ground! Your workers are much more productive and bring back more food and water to show it.\",\r\n                id: \"t10\",\r\n                effects: [{type: 'store',\r\n                subtype: 'food',\r\n                number: 1.1}, {\r\n                  type: 'store',\r\n                  subtype: 'water',\r\n                  number: 1.1\r\n                }]\r\n              }, {\r\n                description: \"The weather cools down and for once you get a break from the ever enduring heat. Because of your good spirits, your egg laying becomes more productive!\",\r\n                id: \"t11\",\r\n                effects: [{\r\n                  type: 'ant',\r\n                  subtype: 'eggs',\r\n                  number: 1.5\r\n                }]\r\n              }],\r\n    humidity: [{\r\n              description: 'During the night, a sudden rainstorm comes pouring down hard. Droplets of water bombard your unprepared colony and some of your workers are caught outside. A part of your colony has been flooded.',\r\n              id: \"h1\",\r\n              effects: [{type: 'ant',\r\n                  subtype: 'worker',\r\n                  number: 0.8},{\r\n                  type: 'ant',\r\n                  subtype: 'pupae',\r\n                  number: 0.8\r\n                }, {\r\n                  type: 'resource',\r\n                  subtype: 'water',\r\n                  number: 1\r\n                }, {\r\n                  type: \"store\",\r\n                  subtype: 'water',\r\n                  number: 1.1\r\n                }]\r\n            },{\r\n              description: \"Lightning has struck nearby! Due to the dry weather, the foliage around you has been exceptionally flammable. A small fire spreads quickly and scorches the area.\",\r\n              id: \"h2\",\r\n              effects: [{\r\n                type: 'store',\r\n                subtype: 'food',\r\n                number: 0.8\r\n              },{\r\n                type: 'store',\r\n                subtype: 'water',\r\n                number: 0.7\r\n              }]\r\n            },{\r\n              description: \"A heavy rainstorm and flash flood covers the area with several feet of rain. Your entire colony has been flooded and your workers scamper together to form a raft. With your guidance, your workers all survive, but many of your young ones are drowned.\",\r\n              id: \"h3\",\r\n              effects: [{\r\n                type: 'ant',\r\n                subtype: 'larvae',\r\n                number: 0.1\r\n              },{\r\n                type: 'ant',\r\n                subtype: 'pupae',\r\n                number: 0.2\r\n              }, {\r\n                type: 'ant',\r\n                subtype: 'eggs',\r\n                number: 0.1\r\n              }]\r\n            }, {\r\n              description: \"A gentle misty rain comes through and softens the parched ground. Your ants scamper to collect the beads of water before they succumb to the dry winds.\",\r\n              id: \"h4\",\r\n              effects: [{\r\n                type: 'store',\r\n                subtype: 'water',\r\n                number: 1.1\r\n              }]\r\n            }, {\r\n              description: \"A hurricane has been building. The fierce winds reach you and rampage through your area, bringing rain, wind, and terror. Many of your colony is either washed away or blown far from home.\",\r\n              id: \"h5\",\r\n              effects: [{\r\n                type: 'ant',\r\n                subtype: 'worker',\r\n                number: 0.5\r\n              }]\r\n            }, {\r\n              description: \"A prolonged drought dries up your water source and you have to rely more on your water stores than usual.\",\r\n              id: \"h6\",\r\n              effects: [{\r\n                type: 'resource',\r\n                subtype: 'water',\r\n                number: -1\r\n              },{\r\n                type: 'store',\r\n                subtype: 'water',\r\n                number: 0.7\r\n              }]\r\n            }],\r\n    animal: [{\r\n            description: 'Alas! An anteater has happened upon your colony. With its sticky tongue, traps many of your workers who end up midday snacks.',\r\n            id: \"e1\",\r\n            effects: [{type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.9}]\r\n          }, {\r\n            description: 'While out scouting, some of your ants do not return. The others bring tales of terrifying creatures with sharp fangs and unfillable appetites.',\r\n            id: \"e2\",\r\n            effects: [{type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.9}]\r\n          }, {\r\n            description: 'An infection has happened upon your colony. While you are thankfully unaffected, many of your children are not as fortunate. All you can do is dispose of the bodies as they fall one by one to their enternal sleep. Thankfully the bulk of your colony survives.',\r\n            id: \"e3\",\r\n            effects: [{type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.8}, {\r\n              type: 'ant',\r\n              subtype: 'pupae',\r\n              number: 0.3\r\n            }, {\r\n              type: 'ant',\r\n              subtype: 'larvae',\r\n              number: 0.3\r\n            }, {\r\n              type: 'ant',\r\n              subtype: 'eggs',\r\n              number: 0.3\r\n            }]\r\n          }, {\r\n            description: 'An antlion has made itself home in your vicinity. Many of your gatherers fall prey to the antlions carefully planned traps.',\r\n            id: \"e4\",\r\n            effects: [{type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.8}]\r\n          }, {\r\n            description: 'There has recently been a surge in the local spider population and your children have become fuel for their growth.',\r\n            id: \"e5\",\r\n            effects: [{type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.8}]\r\n          }],\r\n    human: [{\r\n          description: 'Find you a nuisance, a group of humans has systematically poured poison on your colony and flooded it. By digging further down into your tunnels, some of you manage to escape but at great cost.',\r\n          id: 'hu1',\r\n          effects: [{type: 'ant',\r\n            subtype: 'larvae',\r\n            number: 0},{\r\n            type: 'ant',\r\n            subtype: 'pupae',\r\n            number: 0\r\n            }, {\r\n            type: 'ant',\r\n            subtype: 'eggs',\r\n            number: 0\r\n            }, {\r\n            type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.2\r\n          }]\r\n        }, {\r\n          description: 'Cruel pups of the human race have discovered a new way to hurt you. They concentrate the sun through a glass and burn your workers for fun.',\r\n          id: 'hu2',\r\n          effects: [{\r\n            type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.9\r\n          }]\r\n        }, {\r\n          description: 'Human children kick your home in play and many of the tunnels cave in. Fortunately, you are strong and none of your workers are hurt. Some of your ants retaliate and sting the humans. Hopefully they do not come back for revenge.',\r\n          id: 'hu3',\r\n          effects: [{type: 'risk',\r\n            subtype: 'human',\r\n            number: 1}]\r\n        }, {\r\n          description: 'After accidentally walking through their terrain, humans destroy your scent trails to ward off you workers. All of them make it back, but the humans are now alerted to your presence.',\r\n          id: 'hu4',\r\n          effects: [{type: 'risk',\r\n            subtype: 'human',\r\n            number: 1}]\r\n        }, {\r\n          description: 'A couple of human homes have popped up nearby, leading you to be even closer to human population. The chance of your paths crossing in the future has increased.',\r\n          id: 'hu5',\r\n          effects: [{type: 'risk',\r\n            subtype: 'human',\r\n            number: 1}]\r\n        }, {\r\n          description: 'Several human homes have been abandoned. Human families have moved out and it should be less likely to run into humans in the future.',\r\n          id: 'hu6',\r\n          effects: [{type: 'risk',\r\n            subtype: 'human',\r\n            number: -1}]\r\n        },{\r\n          description: 'The humans have found you a nuisance and waged war! After a great fight, they manage to dig you out of your home. As you look up at the sky one last time, a pair of giant hands descend upon you. Just once instant, and then blackness. You have been killed by humans.',\r\n          id: 'hu7',\r\n          effects:  [{type: 'status',\r\n          status: gStatus.KILLED_BY_HUMANS},]\r\n        }, {\r\n          description: 'The humans have dug up your colony to examine the inner workings of your home. Your workers viciously attempt to fend them off, but they came prepared with gloves. They manage to find you and put you in a small plastic test tube for further experiment. As you are lifted into the sky in their hands, you see the last glimpses of the remains of your colony. You have been captured by humans. ',\r\n          id: 'hu8',\r\n          effects:  [{type: 'status',\r\n          status: gStatus.CAPTURED_BY_HUMANS},]\r\n        }],\r\n    ant: [{\r\n          description: 'A neighboring ant colony wages war against you. You are no match to their overwhelming forces and your home is theirs to plunder. Their workers drag you back to their colony to be an unwilling slave. You will spend the rest of your days birthing eggs for your enemies.',\r\n          id: 'a1',\r\n          effects: [{type: 'status',\r\n          status: gStatus.CAPTURED_BY_ANTS},]\r\n        }, {\r\n          description: 'Another ant colony has bombarded you with attacks. Your warriors fight bravely and manage to fend them off, but many are hurt.',\r\n          id: 'a2',\r\n          effects: [{\r\n            type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.8\r\n          }]\r\n        }, {\r\n          description: 'While out looking for more resources, some of your scouts are attacked by other ants. They do not seem to be friendly ants and the chance of conflict increases.',\r\n          id: 'a3',\r\n          effects: [{type: 'risk',\r\n            subtype: 'ant',\r\n            number: 1},{\r\n            type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.8\r\n          }]\r\n        }, {\r\n          description: 'Your hostile ant neighbors are venturing further into your territory. There have been several skirmishes over the past few days and tension is rising.',\r\n          id: 'a4',\r\n          effects: [{\r\n            type: 'ant',\r\n            subtype: 'worker',\r\n            number: 0.9\r\n          }]\r\n        }, {\r\n          description: 'You have been an eyesore to the ant colonies around you and some have targetted you. When your ants are out gathering food, your stores were raided.',\r\n          id: 'a5',\r\n          effects: [{type: 'store',\r\n            subtype: 'food',\r\n            number: 0.5},{\r\n            type: 'store',\r\n            subtype: 'water',\r\n            number: 0.8\r\n          }]\r\n        }, {\r\n          description: 'One of the ants your area have waged war on you. In the future, attacks will be more common.',\r\n          id: 'a6',\r\n          effects: [{type: 'risk',\r\n            subtype: 'ant',\r\n            number: 1}]\r\n        }, {\r\n          description: 'Unable to keep up with your progress, an ant colony nearby has become afraid of you. They decide to move away. Your risk of being attacked by ants decreases.',\r\n          id: 'a7',\r\n          effects: [{type: 'risk',\r\n            subtype: 'ant',\r\n            number: -1}]\r\n        }, {\r\n          description: 'A new ant colony has moved into your area. While no ant has been hurt yet, the chances of you having conflict with your neighbors increases.',\r\n          id: 'a8',\r\n          effects: [{type: 'risk',\r\n            subtype: 'ant',\r\n            number: 1}]\r\n        }]\r\n\r\n}\r\n","\r\nexport const categorizeRisk = function(num){\r\n    switch(true){\r\n      case num < 2:\r\n        return 'very low'\r\n      case num < 4:\r\n        return 'low'\r\n      case num < 6:\r\n        return 'medium'\r\n      case num < 8:\r\n        return 'high'\r\n      default:\r\n        return 'very high'\r\n    }\r\n}\r\n","export const choiceData = {\r\n  birth: [{description: \"You've manages to birth quite a few eggs! Hopefully they will quickly grow up into strong workers and provide for the colony.\",\r\n          effects: [{type: \"ant\",\r\n          subtype: 'eggs',\r\n          number: 1.5}]\r\n           }, {description: \"To give birth to your eggs, you consume more resources than usual. However, you still don't manage to lay more eggs.\",\r\n          id: \"t1\",\r\n          effects: [{type: \"store\",\r\n          subtype: 'food',\r\n          number: 0.9}]\r\n           }],\r\n  expand: [{description: \"Your ants brave the unknown and scout for sources of food and water. They search far and wide into unknown territories and are able to bring news of a undiscovered pond nearby! Now access to water will be even easier.\",\r\n          effects: [{type: \"resource\",\r\n          subtype: 'water',\r\n          number: 1}, {type: \"store\",\r\n          subtype: 'water',\r\n          number: 1.1}]\r\n        }, {description: \"While out searching, your colony finds a freshly killed mammal! This will be able to feed your colony for quite a while.\",\r\n           effects: [{type: \"store\",\r\n           subtype: 'food',\r\n           number: 1.2}]\r\n         }, {description: \"In their search for food, your scouts wander further than the boundaries of your territory. All the scouts are surrounded by hostile enemy ants and brutually killed. Not one makes it back alive.\",\r\n          id: \"t1\",\r\n          effects: [{type: \"ant\",\r\n          subtype: 'worker',\r\n          number: 0.7}]\r\n        }, {description: \"Your workers come back from their trip empty-handed.\",\r\n          effects: []\r\n        }, {description: \"Your workers come back from their trip empty-handed.\",\r\n          effects: []\r\n        }, {description: \"Your workers come back from their trip empty-handed.\",\r\n          effects: []\r\n           }],\r\n  defend: [{description: \"\",\r\n    effects: []\r\n     }]\r\n}\r\n","import {selectRandomfromArray, decideIfGameIsPlaying} from '../general/general'\r\nimport {gameOver} from '../general/gameHelpers'\r\nimport {calcNewStore} from './calcStore'\r\nimport {calcCurrentAnts} from './calcAnts'\r\nimport {categories} from './categories'\r\nimport {eventsData} from './data'\r\nimport {categorizeRisk} from './categorizeRisk'\r\nimport {choiceData} from './choiceCategories'\r\n\r\nexport function generateEvent(reduxState){\r\n  let {choice} = reduxState\r\n  let state = {...reduxState}\r\n  let events = []\r\n  let updatedAnts = calcCurrentAnts(reduxState, choice)\r\n  let updatedStore = calcNewStore(reduxState)\r\n  events.push(selectRandomfromArray(choiceData[choice]))\r\n  // calculate possiblity of events\r\n  let event = (reduxState.ants.worker > 10)? rollEvents(reduxState): null\r\n  if(event) events.push(event)\r\n  //check gameover\r\n  let {narrative, newState} = gameOver({\r\n    ...state, ants: updatedAnts, store: updatedStore\r\n  })\r\n  //determine if the event rolled will affect game status\r\n  let statusEffect = (event)? event.effects.filter(effect=> effect.type ===\"status\"):null\r\n  newState.status = (event && statusEffect.length>0)? [...newState.status, statusEffect[0].status] : newState.status\r\n  //if gameover, add description to end of narrative\r\n  let {game, notification} = decideIfGameIsPlaying(newState.status)\r\n  return {\r\n    narrative,\r\n    events,\r\n    state: Object.assign({}, {\r\n      ...newState, ants: updatedAnts, store: updatedStore, notification, game\r\n    })\r\n  }\r\n  //return new object\r\n}\r\n\r\nexport function rollEvents(reduxState){\r\n  let {home} = reduxState\r\n  const disasters = []\r\n  //rolls for each if rolls high, good thing\r\n  //rolls for each if rolls low, disaster\r\n  //temperature events\r\n  let rollTemp = 100/(10-home.weather.temperature.risk)\r\n  if(Math.random()*100<= rollTemp){\r\n    let eventID = selectRandomfromArray(categories.temperature[home.weather.temperature.desc])\r\n    let newEvent = eventsData.temperature.filter(event=> event.id === eventID)[0]\r\n    disasters.push(newEvent)\r\n  }\r\n\r\n  //water-related events\r\n  let rollHumid = 100/(10-home.weather.humidity.risk)\r\n  if(Math.random()*100 <=rollHumid){\r\n    let eventID = selectRandomfromArray(categories.humidity[home.weather.humidity.desc])\r\n    let newEvent = eventsData.humidity.filter(event=> event.id === eventID)[0];\r\n    disasters.push(newEvent)\r\n  }\r\n\r\n  //animal events\r\n  let rollAnimal = 100/(10-home.risk.animal)\r\n  if(Math.random()*100 <= rollAnimal){\r\n    let eventID = selectRandomfromArray(categories.animal[categorizeRisk(home.risk.animal)]);\r\n    let newEvent = eventsData.animal.filter(event=> event.id ===eventID)[0];\r\n    disasters.push(newEvent)\r\n  }\r\n\r\n  //human related events\r\n  let rollHuman = 100/(10-home.risk.human)\r\n  if(Math.random()*100 <= rollHuman){\r\n    let eventID = selectRandomfromArray(categories.human[categorizeRisk(home.risk.human)]);\r\n    let newEvent = eventsData.human.filter(event=> event.id === eventID)[0];\r\n    disasters.push(newEvent)\r\n  }\r\n\r\n\r\n  //ant related events\r\n  let rollAnt = 100/(10-home.risk.ant)\r\n  if(Math.random()*100 <= rollAnt){\r\n    let eventID = selectRandomfromArray(categories.ant[categorizeRisk(home.risk.ant)]);\r\n    let newEvent = eventsData.ant.filter(event=> event.id === eventID)[0];\r\n    disasters.push(newEvent)\r\n  }\r\n\r\n  if(disasters.length === 0){\r\n    return null\r\n  } else{\r\n    return disasters[Math.floor(Math.random()*disasters.length)]\r\n  }\r\n}\r\n","\r\nexport function calcNewStore(reduxState){\r\n  let baseRate = 4\r\n  let {ants, store, home} = reduxState;\r\n  let maxStore = Math.max(200, ants.worker* 30)\r\n  let waterRate = (1-(1/home.resources.water)) * ants.worker *baseRate;\r\n  let foodRate = (1-(1/home.resources.food)) * ants.worker *baseRate;\r\n  let deductFromStore = 0.3*ants.eggs + (ants.larvae * 3) + 0.5*ants.pupae + ants.worker + 10\r\n  let newStore = {\r\n    food: Math.max(0, Math.min(maxStore, Math.floor(store.food + waterRate - deductFromStore))),\r\n    water: Math.max(0, Math.min(maxStore, Math.floor(store.water + foodRate - deductFromStore)))\r\n  }\r\n  return newStore\r\n}\r\n","export const choiceDesc = {\r\n  birth: 'As the queen ant you dedicate most of your time and resources to spawning new eggs. The rest of colony is left to govern the home as usual.',\r\n  expand: 'You command your workers to scout out new territory in search for more sources of food and water.',\r\n  defend: 'To protect your workers, you command your colony to move cautiously and to not range too far from home.'\r\n}\r\n\r\nexport function describeChoice(choice){\r\n  return choiceDesc[choice]\r\n}\r\n","import React, {Component} from 'react'\r\nimport {CSSTransition} from 'react-transition-group'\r\nimport {connect} from 'react-redux'\r\nimport {generateEvent} from '../utils/event'\r\nimport {describeChoice} from '../utils/event/choice'\r\nimport {compileEffects, applyEffectsToStatus, calcEventEffects} from '../utils/effect'\r\nimport {updateAll, setEvent, updateMaxAnts} from '../actionCreators'\r\nimport {gStatus} from '../utils/general/status'\r\nimport './styles/Event.css'\r\n\r\n/**\r\n * Event Component\r\n * Handles the events that happen during the game\r\n */\r\nexport class Event extends Component{\r\n  constructor(props){\r\n    super(props)\r\n    //The narrative that renders\r\n    this.state = {\r\n      story: []\r\n    }\r\n    this.chooseButton= this.chooseButton.bind(this)\r\n  }\r\n\r\n  /**\r\n   * The Logic for the Events that occur\r\n   */\r\n\r\n  componentWillMount(){\r\n    //The narrative\r\n    let story = []\r\n    const {narrative, events,state} = generateEvent(this.props.reduxState)\r\n    const button = this.chooseButton()\r\n    //Shows the player their choice\r\n    let firstParagraph = describeChoice(this.props.reduxState.choice)\r\n    story.push(firstParagraph)\r\n    story= story.concat(narrative)\r\n    //Add all the descriptions of events to the narrative\r\n    events.map(event=> story.push(event.description))\r\n    story.push(button)\r\n    const allEvents = (events)? compileEffects(events): []\r\n    //Turns the array of events into an array of effects that will impact the redux state\r\n    const allEffects = (allEvents.length>0)? allEvents.map(e=> calcEventEffects(e, this.props.reduxState)): []\r\n    this.props.updateAll(state)\r\n    if(allEffects.length>0) this.props.setEvent(allEffects)\r\n    //Delays the showing of narrative by intervals\r\n    this.interval = setInterval(()=> this.setState({story: [...this.state.story, story.splice(0, 1)]}), 1000)\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    //If the game is playing, then apply all the effects to the status and update the redux status\r\n    if(this.props.reduxState.status.every(s=> s===gStatus.HEALTHY || s===gStatus.THIRSTY ||\r\n                    s===gStatus.HUNGRY || s===gStatus.STARVING ||s===gStatus.DEHYDRATED)){\r\n      const updatedState = applyEffectsToStatus(this.props.reduxState.event, this.props.reduxState)\r\n      updatedState.event = []\r\n      this.props.updateAll(updatedState)\r\n      }\r\n    clearInterval(this.interval)\r\n    this.props.updateMaxAnts(this.props.reduxState.ants.worker + 1)\r\n  }\r\n\r\n  /**\r\n   * Decides which button should be rendered on the page depending on the game status\r\n   */\r\n\r\n  chooseButton(){\r\n    let {resetGame} = this.props\r\n    let button = (this.props.reduxState.status.every(s=> s===gStatus.HEALTHY || s===gStatus.THIRSTY ||\r\n                    s===gStatus.HUNGRY || s===gStatus.STARVING ||s===gStatus.DEHYDRATED))?\r\n                        (<button key={'cont-btn'} data-test=\"continue-button\" onClick={()=> this.props.changePage('gameplay')}>Continue</button>): <button key={'reset-btn'} onClick={resetGame}>Start Over</button>\r\n    return button;\r\n  }\r\n\r\n  render(){\r\n    const {game} = this.props.reduxState\r\n    return (\r\n      <div id=\"event\" data-test=\"component-event\">\r\n        {(game)? this.state.story.map((paragraph, idx) => (\r\n            <CSSTransition\r\n                in={true}\r\n                appear={true}\r\n                key={idx}\r\n                timeout={500}\r\n                classNames='fade'>\r\n                  <div className=\"narrative\"> {paragraph} </div>\r\n              </ CSSTransition>\r\n            )) :null }\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps(reduxState){\r\n  return {\r\n    reduxState: {\r\n      ...reduxState\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,{updateAll, setEvent, updateMaxAnts})(Event)\r\n","import React, { Component } from 'react';\nimport {CSSTransition} from 'react-transition-group'\nimport './App.css';\nimport './containers/styles/textEffects.css'\nimport ColonyStatus from './components/ColonyStatus'\nimport Notification from './components/Notification'\nimport loadPage from './utils/general/loadPage'\nimport {packUpAndGo} from './utils/travel'\nimport {updateChoice, setHome, resetState, setStore, updateNotification} from './actionCreators'\nimport {connect} from 'react-redux';\n\n/**\n * App Component\n * The container for the entire app\n */\n\nexport class App extends Component {\n  constructor(props){\n    super(props);\n    //Tracks which page the App should render\n    this.state={\n      page: 'enter',\n    }\n    this.changePage = this.changePage.bind(this)\n    this.setChoice = this.setChoice.bind(this)\n    this.resetGame = this.resetGame.bind(this)\n  }\n\n  /**\n   * Changes State of App to render next page\n   * @param {String} page - The page the App should render next\n   */\n  changePage(page){\n    this.setState({page})\n  }\n\n  /**\n   * Handles the logic for the player's choices\n   * @param {String} choice - The choice that the player has chosen in the Gameplay Component\n   */\n\n  setChoice(choice){\n    this.props.updateChoice(choice)\n    if(choice === 'change'){\n      // If the player choose to change homes, set the home to null, limit stores, and change page\n      this.props.setHome(null)\n      this.props.setStore(packUpAndGo(this.props.store, this.props.ants))\n      this.changePage('searching')\n    } else{\n      //If player chooses any other choices, then move on to event page\n      this.changePage('event')\n    }\n  }\n\n  /**\n   * Resets the game by reseting state and changing the page to render the Enter Component\n   */\n  resetGame(){\n    setTimeout(()=>{\n      this.props.resetState()\n    }, 0)\n    this.setState({page:'enter'})\n  }\n\n  render() {\n    //Logic to figure out which page to render\n    let page = loadPage(this.state.page, this.changePage, this.setChoice, this.resetGame)\n    //Checks if game is still playing\n    let isGamePlaying = (this.state.page !== 'enter' && this.state.page !== 'prequel')\n    return (\n      <div className=\"App\" data-test=\"component-app\">\n        <CSSTransition in={!!this.props.notification}\n          appear={true}\n          timeout={0}\n          classNames='fade'\n          unmountOnExit>\n            <Notification notification={this.props.notification}\n              updateNotification={this.props.updateNotification}\n              stats={this.props.stats}\n              resetGame={this.resetGame}/>\n        </CSSTransition>\n        <div className=\"mainscreen\">\n            <CSSTransition\n              key={this.state.page}\n              in={true}\n              appear={true}\n              timeout={200}\n              classNames='fade'\n              data-test={this.state.page}\n              unmountOnExit\n              >\n              {page}\n            </CSSTransition>\n        </div>\n\n          <CSSTransition in={isGamePlaying}\n              timeout={5}\n              classNames=\"fade\"\n              unmountOnExit\n              >\n                <ColonyStatus key='statusbar' className=\"statusbar\" resetGame={this.resetGame}/>\n          </ CSSTransition>\n\n      </div>\n    )\n  }\n}\n\nfunction mapStateToProps(reduxState){\n  return {\n    ...reduxState\n  }\n}\n\nexport default connect(mapStateToProps, {updateChoice, setHome, resetState, setStore, updateNotification})(App);\n","import React from 'react';\r\nimport Enter from '../../containers/Enter'\r\nimport Prequel from '../../containers/Prequel'\r\nimport Choice from '../../containers/Choice'\r\nimport Searching from '../../containers/Searching'\r\nimport Gameplay from '../../containers/Gameplay'\r\nimport Event from '../../containers/Event'\r\n\r\n\r\nexport default function loadPage(page, callback, callback2, callback3){\r\n  const pages = {\r\n    enter: <Enter key={page} changePage={callback} />,\r\n    prequel: <Prequel key={page} changePage={callback} />,\r\n    choice: <Choice key={page} changePage={callback} />,\r\n    searching: <Searching key={page} changePage={callback} />,\r\n    gameplay: <Gameplay key={page} changePage={callback} setChoice={callback2}/>,\r\n    event: <Event key={page} changePage={callback} resetGame={callback3}/>\r\n    }\r\n  return pages[page]\r\n}\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {SET_HOME, UPDATE_FUEL, SET_STORE, UPDATE_GAMESTATUS, UPDATE_CHOICE, UPDATE_ALL, SET_EVENT, RESET_STATE, UPDATE_NOTIFICATION, ADD_DAY, RECORD_HOME, UPDATE_MAX_ANTS} from './actionCreators'\r\nimport {gStatus} from './utils/general/status'\r\n\r\nconst initialState = {\r\n  ants: {\r\n    eggs:0,\r\n    larvae:0,\r\n    pupae: 0,\r\n    worker: 0\r\n  },\r\n  store: {\r\n    food: 200,\r\n    water: 200\r\n  },\r\n  notification: null,\r\n  fuel: 100,\r\n  home: null,\r\n  page: 'enter',\r\n  choice: null,\r\n  game: true,\r\n  event: [],\r\n  status: [gStatus.HEALTHY],\r\n  stats : {\r\n    day: 1,\r\n    homes: [],\r\n    maxAnts: 1\r\n  }\r\n}\r\n\r\nexport default function rootReducer(state=initialState, action){\r\n  switch(action.type){\r\n    case SET_HOME:\r\n      return {\r\n        ...state,\r\n        home: action.home\r\n      };\r\n    case UPDATE_FUEL:\r\n      return {\r\n        ...state,\r\n        fuel: action.fuel\r\n      }\r\n    case SET_STORE:\r\n      return {\r\n        ...state,\r\n        store: action.store\r\n      }\r\n    case UPDATE_GAMESTATUS:\r\n      return{\r\n        ...state,\r\n        game: action.game\r\n      }\r\n    case UPDATE_CHOICE:\r\n      return{\r\n        ...state,\r\n        choice: action.choice\r\n      }\r\n    case UPDATE_ALL:\r\n      return{\r\n        ...action.state\r\n      }\r\n    case SET_EVENT:\r\n      return{\r\n        ...state,\r\n        event: action.event\r\n      }\r\n    case RESET_STATE:\r\n      return{\r\n        ...initialState\r\n      }\r\n    case UPDATE_NOTIFICATION:\r\n      return {\r\n        ...state,\r\n        notification: action.notification\r\n      }\r\n    case ADD_DAY:{\r\n      const stats = {...state.stats, day: state.stats.day+1}\r\n      return{\r\n        ...state, stats\r\n      }\r\n    }\r\n    case RECORD_HOME:{\r\n      const homes = [...state.stats.homes, action.home]\r\n      const stats = {...state.stats, homes}\r\n      return{\r\n        ...state,\r\n        stats\r\n      }\r\n    }\r\n    case UPDATE_MAX_ANTS:{\r\n      const currentAnts = state.stats.maxAnts\r\n      const maxAnts = (action.ants> currentAnts)? action.ants: currentAnts\r\n      const stats = {...state.stats, maxAnts}\r\n      return{\r\n        ...state,\r\n        stats\r\n      }\r\n    }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport rootReducer from './rootReducer'\nimport {createStore} from 'redux';\nimport {Provider} from 'react-redux';\n\n\nconst store = createStore(rootReducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__())\n\nReactDOM.render(<Provider store={store}>\n    <App />\n</ Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}