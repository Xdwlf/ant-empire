(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,function(e,t,a){e.exports=a(81)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),s=a.n(o),i=(a(36),a(2)),u=a(3),c=a(4),l=a(6),h=a(5),m=a(7),d=a(1),p=a(11),f=(a(17),a(37),a(9)),y=(a(44),a(12)),b=a(8);function g(e){return e?e.reduce(function(e,t){return e+t.number},0):0}function v(e,t){if(!e)return{};var a,n,r=t.ants,o=t.store,s=t.choice;"ant"===e.type&&(a=Math.floor(r[e.subtype]*e.number)-r[e.subtype],a=e.number>1&&a<5?5:a),"resource"===e.type&&(a=e.number),"store"===e.type&&(a=Math.floor(o[e.subtype]*e.number-o[e.subtype]),a=e.number>1&&a<10?25:a),"status"===e.type&&(n=e.status),"risk"===e.type&&(a=e.number);var i="defend"===s&&a<0?Math.floor(a/4):a;return{type:e.type,subtype:e.subtype,status:n,number:i}}function E(e,t){var a={},n=Object(i.a)({},t);for(var r in e.map(function(e){return a.hasOwnProperty(e.type)?a[e.type].push(e):a[e.type]=[e]}),a)"ant"===r&&a[r].map(function(e){n.ants=Object.assign({},n.ants,Object(y.a)({},e.subtype,Math.max(0,n.ants[e.subtype]+e.number)))}),"store"===r&&a[r].map(function(e){n.store=Object.assign({},n.store,Object(y.a)({},e.subtype,Math.max(0,n.store[e.subtype]+e.number)))}),"resource"===r&&(n.home=Object(i.a)({},t.home),a[r].map(function(e){var t=Object(i.a)({},n.home.resources);n.home.resources=Object.assign({},t,Object(y.a)({},e.subtype,Math.min(10,Math.max(1,t[e.subtype]+e.number))))})),"status"===r&&a[r].map(function(e){n.status=[].concat(Object(b.a)(n),[e.status])}),"risk"===r&&(n.home=Object(i.a)({},t.home),a[r].map(function(e){var t=Object(i.a)({},n.home.risk);n.home.risk=Object.assign({},t,Object(y.a)({},e.subtype,Math.min(10,Math.max(1,t[e.subtype]+e.number))))}));return n}var k=a(13),w=a.n(k),O={danger:{color:"#ff1a1a"},caution:{color:"orange"},warning:{color:"yellow"},okay:{color:"lightgreen"},good:{color:"green"}};function T(e,t){return r.a.createElement("span",{style:t},e)}function j(e){return T(e,e>0?O.okay:O.danger)}a(59);var A=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ants,a=e.eventEffect,n=g(a.filter(function(e){return"eggs"===e.subtype})),o=g(a.filter(function(e){return"larvae"===e.subtype})),s=g(a.filter(function(e){return"pupae"===e.subtype})),i=g(a.filter(function(e){return"worker"===e.subtype}));return r.a.createElement("div",{id:"ant-count","data-test":"component-ant-count"},r.a.createElement("h4",null,"Your Ants"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",{"data-tip":!0,"data-for":"egg-info"},"Eggs:"),r.a.createElement("td",{className:"data"},r.a.createElement("span",{"data-test":"ant-eggs"},t.eggs)),r.a.createElement("td",{className:"effect"},n>0?T("+",O.okay):"",0!==n?j(n):"")),r.a.createElement("tr",null,r.a.createElement("th",{"data-tip":!0,"data-for":"larvae-info"},"Larvae:"),r.a.createElement("td",{className:"data"},r.a.createElement("span",{"data-test":"ant-larvae"},t.larvae)),r.a.createElement("td",{className:"effect"},o>0?T("+",O.okay):"",0!==o?j(o):"")),r.a.createElement("tr",null,r.a.createElement("th",{"data-tip":!0,"data-for":"pupae-info"}," Pupae:"),r.a.createElement("td",{className:"data"},r.a.createElement("span",{"data-test":"ant-pupae"},t.pupae)),r.a.createElement("td",{className:"effect"},s>0?T("+",O.okay):"",0!==s?j(s):"")),r.a.createElement("tr",null,r.a.createElement("th",{"data-tip":!0,"data-for":"worker-info"},"Workers:"),r.a.createElement("td",{className:"data","data-test":"ant-worker"},t.worker),r.a.createElement("td",{className:"effect"},i>0?T("+",O.okay):"",0!==i?j(i):"")))),r.a.createElement(w.a,{className:"info-tooltip",id:"egg-info",type:"light",effect:"float"},r.a.createElement("span",null,"All ants begin as an egg. Ant eggs are soft, oval, and tiny \u2013 about the size of a period at the end of a sentence. Not all eggs are destined to become adults \u2013 some are eaten by nestmates for extra nourishment.")),r.a.createElement(w.a,{className:"info-tooltip",id:"larvae-info",type:"light",effect:"float"},r.a.createElement("span",null,"An egg hatches into a worm-shaped larva with no eyes or legs. Larvae are eating machines that rely on adults to provide a constant supply of food. As a result, they grow rapidly, molting between sizes.")),r.a.createElement(w.a,{className:"info-tooltip",id:"pupae-info",type:"light",effect:"float"},r.a.createElement("span",null,"When a larvae is large enough, it metamorphoses into a pupa. This is a stage of rest and reorganization. Pupae look more like adults, but their legs and antennae are folded against their bodies. They start out whitish and gradually become darker.")),r.a.createElement(w.a,{className:"info-tooltip",id:"worker-info",type:"light",effect:"float"},r.a.createElement("span",null,"Worker ants are full-grown when born. Their exoskeletons prevent them from getting any larger. They do not reproduce, but perform other jobs, such as taking care of the brood, building and cleaning the nest, and gathering food. Workers are wingless and typically survive for several months.")))}}]),t}(n.Component);A.defaultProps={ants:null,eventEffect:[]};var N=A;function H(e){switch(!0){case e<2:return r.a.createElement("span",{style:O.danger},"Barren");case e<4:return r.a.createElement("span",{style:O.caution},"Scarce");case e<6:return r.a.createElement("span",{style:O.warning},"Moderate");case e<8:return r.a.createElement("span",{style:O.okay},"Plentiful");default:return r.a.createElement("span",{style:O.good},"Overflowing")}}a(60);var S=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.eventEffect,a=e.resources,n=g(t.filter(function(e){return"food"===e.subtype})),o=g(t.filter(function(e){return"water"===e.subtype}));return r.a.createElement("div",{id:"resource-count","data-test":"component-resource-count"},r.a.createElement("h4",null,"Resources"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",{"data-test":"food-resource"},r.a.createElement("th",null,"Food:"),r.a.createElement("td",null,a?H(a.food):null),r.a.createElement("td",null,0!==n?r.a.createElement("span",{"data-test":"compiled-food-effect"}," ",n>0?r.a.createElement("span",{className:"increasing"},"\u21c8"):r.a.createElement("span",{className:"decreasing"},"\u21ca")):null)),r.a.createElement("tr",{"data-test":"water-resource"},r.a.createElement("th",null,"Water:"),r.a.createElement("td",null,a?H(a.water):null),r.a.createElement("td",null,0!==o?r.a.createElement("span",{"data-test":"compiled-water-effect"},o>0?r.a.createElement("span",{className:"increasing"},"\u21c8"):r.a.createElement("span",{className:"decreasing"},"\u21ca")):null)))))}}]),t}(n.Component),Y=(a(61),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.store,a=e.eventEffect,n=g(a.filter(function(e){return"water"===e.subtype})),o=g(a.filter(function(e){return"food"===e.subtype}));return r.a.createElement("div",{id:"store-count","data-test":"component-store-count"},r.a.createElement("h4",null,"Storage"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Food:"),r.a.createElement("td",{className:"data"},r.a.createElement("span",{"data-test":"food-store"},t.food)),r.a.createElement("td",{className:"effect"},0!==o?r.a.createElement("span",{"data-test":"food-effect"},o>0?T("+",O.okay):null,j(o)):null)),r.a.createElement("tr",null,r.a.createElement("th",null,"Water:"),r.a.createElement("td",{className:"data"},r.a.createElement("span",{"data-test":"water-store"},t.water)),r.a.createElement("td",{className:"effect"},0!==n?r.a.createElement("span",{"data-test":"water-effect"},n>0?T("+",O.okay):null,j(n)):null)))))}}]),t}(n.Component));function D(e){switch(!0){case e<2:return r.a.createElement("span",{style:O.good},"Very Low");case e<4:return r.a.createElement("span",{style:O.okay},"Low");case e<6:return r.a.createElement("span",{style:O.warning},"Medium");case e<8:return r.a.createElement("span",{style:O.caution},"High");default:return r.a.createElement("span",{style:O.danger},"Very High")}}a(62);var x=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.risk,a=e.eventEffect,n=g(a.filter(function(e){return"ant"===e.subtype})),o=g(a.filter(function(e){return"animal"===e.subtype})),s=g(a.filter(function(e){return"human"===e.subtype}));return r.a.createElement("div",{id:"risk-count","data-test":"component-risk-count"},r.a.createElement("h4",null,"Risks"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Ant:"),r.a.createElement("td",{className:"data"},D(t.ant)),r.a.createElement("td",null,0!==n?n>0?r.a.createElement("span",{className:"increasing"},"\u21c8"):r.a.createElement("span",{className:"decreasing"},"\u21ca"):null)),r.a.createElement("tr",null,r.a.createElement("th",null,"Animal:"),r.a.createElement("td",{className:"data"},D(t.animal)),r.a.createElement("td",null,0!==o?o>0?r.a.createElement("span",{className:"increasing"},"\u21c8"):r.a.createElement("span",{className:"decreasing"},"\u21ca"):null)),r.a.createElement("tr",null,r.a.createElement("th",null,"Human:"),r.a.createElement("td",{className:"data"},D(t.human)),r.a.createElement("td",null,0!==s?s>0?r.a.createElement("span",{className:"increasing"},"\u21c8"):r.a.createElement("span",{className:"decreasing"},"\u21ca"):null)))))}}]),t}(n.Component),M=function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.state,t=e.event,a=e.ants,n=e.home,o=e.store,s=t.filter(function(e){return"ant"===e.type}),i=t.filter(function(e){return"resource"===e.type}),u=t.filter(function(e){return"store"===e.type}),c=t.filter(function(e){return"risk"===e.type});return r.a.createElement("div",{className:"sidebar","data-test":"component-colony-status"},r.a.createElement("div",null,r.a.createElement("div",{className:"status-section"},r.a.createElement("div",{className:"sub-section"},r.a.createElement(N,{ants:a,eventEffect:s,reduxState:this.props.state})),r.a.createElement("div",{className:"sub-section"},r.a.createElement(Y,{eventEffect:u,store:o}))),n?r.a.createElement("div",{className:"status-section"},r.a.createElement("div",{className:"sub-section home"},r.a.createElement("h4",null,"Your Home:")," ",r.a.createElement("div",{"data-test":"home-description"},n?n.description:null)),r.a.createElement("div",{className:"sub-section home"},r.a.createElement("h4",null,"Weather:")," ",r.a.createElement("div",{"data-test":"weather-description"},n?n.weather.temperature.desc+" and "+n.weather.humidity.desc:null))):null,n?r.a.createElement("div",{className:"status-section"},r.a.createElement(x,{risk:this.props.state.home.risk,eventEffect:c}),r.a.createElement(S,{eventEffect:i,resources:n?n.resources:null})):null),r.a.createElement("button",{id:"start-over",className:"ui button",onClick:this.props.resetGame},"Start Over"))}}]),t}(n.Component);var C=Object(f.b)(function(e){return{state:Object(i.a)({},e)}})(M),R=(a(63),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={stats:!1},a.viewStats=a.viewStats.bind(Object(d.a)(Object(d.a)(a))),a.viewNarrative=a.viewNarrative.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"viewStats",value:function(){this.setState({stats:!0})}},{key:"viewNarrative",value:function(){this.setState({stats:!1})}},{key:"render",value:function(){var e=this.props.stats,t=this.state.stats?r.a.createElement("div",null,r.a.createElement("h4",null,"Stats"),r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Days Lived:"),r.a.createElement("td",null,e.day)),r.a.createElement("tr",null,r.a.createElement("td",null,"Max Ants:"),r.a.createElement("td",null,e.maxAnts)),r.a.createElement("tr",null,r.a.createElement("td",null,"Homes Lived In: "),r.a.createElement("td",null,r.a.createElement("ul",null,e.homes.map(function(e){return r.a.createElement("li",null,e)})))))),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{onClick:this.props.resetGame},"Play Again"),r.a.createElement("button",{onClick:this.viewNarrative},"Go Back"))):r.a.createElement("div",null,r.a.createElement("h1",null,"GAME OVER"),r.a.createElement("div",{id:"game-over-narrative"},this.props.notification),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{onClick:this.props.resetGame},"Play Again"),r.a.createElement("button",{onClick:this.viewStats},"View Stats")));return r.a.createElement("div",{id:"notification"},t)}}]),t}(n.Component)),_=a(10),I=(a(64),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).jellyAnimation=a.jellyAnimation.bind(Object(d.a)(Object(d.a)(a))),a.reachAnimation=a.reachAnimation.bind(Object(d.a)(Object(d.a)(a))),a.spreadAnimation=a.spreadAnimation.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"jellyAnimation",value:function(){return Object(_.a)({targets:"#backgroundanimation",points:[{value:["20 30 130 41 590 22 912 38 1131 102 1119 290 1080 460 1110 610 1170 737 980 832 673 842 398 820 81 724 15 578 20 390 81 253","310 290 390 171 590 192 812 218 971 192 909 290 990 480 800 500 820 557 710 502 573 532 398 590 371 424 225 398 299 350 221 293"]},{value:"80 90 370 71 630 172 812 98 881 172 1090 460 1030 560 1090 740 980 787 720 632 473 642 398 690 71 524 195 398 79 230 51 103"},{value:"380 200 470 91 530 62 712 98 881 52 990 40 1090 90 1080 340 930 417 730 632 513 682 328 500 371 434 245 318 259 290 291 193"},{value:"330 130 470 191 630 102 732 198 811 222 890 460 790 530 650 570 530 757 430 792 403 722 238 710 81 784 95 555 239 380 231 253"},{value:"40 210 190 71 430 82 732 158 881 299 1009 310 1000 490 880 620 850 727 710 682 363 742 128 620 301 524 295 428 219 350 71 283"},{value:"310 290 390 171 590 192 812 218 971 192 909 290 990 480 800 500 820 557 710 502 573 532 398 590 371 424 225 398 299 350 221 293"},{value:"20 30 130 41 590 22 912 38 1131 102 1119 290 1080 460 1110 610 1170 737 980 832 673 842 398 820 81 724 15 578 20 390 81 253"}],easing:"easeInOutQuad",duration:1e4,loop:!0})}},{key:"reachAnimation",value:function(){return Object(_.a)({targets:"#backgroundanimation",points:[{value:"330 300 275 60 634 190 902 43 851 292 1059 170 850 470 1020 610 780 657 870 788 593 602 178 830 387 484 65 518 219 310 19 133"},{value:"280 70 495 190 634 40 732 223 991 62 820 290 1010 400 820 470 1010 697 760 658 653 832 438 680 137 714 295 508 89 420 269 313"},{value:"380 270 295 90 664 210 872 23 821 262 1159 210 810 450 980 570 810 627 840 818 533 632 138 780 337 514 95 558 269 390 69 193"}],easing:"easeInOutExpo",direction:"alternate",duration:2e3,loop:!0})}},{key:"spreadAnimation",value:function(){Object(_.a)({targets:"#backgroundanimation",points:[{value:"350 270 380 181 580 182 822 228 991 182 919 280 980 490 820 520 810 587 700 492 553 522 388 599 391 404 215 388 289 340 231 283"},{value:"-20 -15 250 -201 550 -20 862 -18 1401 -302 1219 260 1480 690 1220 900 1010 1010 730 900 533 920 88 1199 -201 850 -200 -20 269 340 -151 203"},{value:"-20 -15 250 -201 550 -20 862 -18 1401 -302 1219 260 1480 690 1220 900 1010 1010 730 900 533 920 88 1199 -201 850 -200 -20 269 340 -151 203"}],easing:"easeInOutExpo",duration:5e3,loop:!1})}},{key:"render",value:function(){var e=this.props,t=e.hover,a=e.clicked,n=this.jellyAnimation(),o=this.reachAnimation();return t?(n.pause(),o.play()):(o.pause(),n.play()),a&&(_.a.remove("#backgroundanimation"),this.spreadAnimation()),r.a.createElement("svg",{id:"background",viewBox:"0 0 1180 850",fill:"none",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none"},r.a.createElement("polygon",{id:"backgroundanimation",points:"-20 -15 250 -201 550 -20 862 -18 1401 -302 1219 260 1480 690 1220 900 1010 1010 730 900 533 920 88 1199 -201 850 -200 -20 269 340 -151 203",stroke:"black",fill:"black",strokeWidth:"3"}))}}]),t}(n.Component)),L=(a(65),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.handleClick,a=e.mouseOver,n=e.mouseOut;return r.a.createElement("button",{onClick:t,onMouseOver:a,onMouseOut:n,className:"ui button",id:"enterbtn"},"Enter")}}]),t}(n.Component)),V=(a(66),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){Object(_.a)({targets:"svg path",strokeDashoffset:[_.a.setDashoffset,0],easing:"easeInOutSine",duration:1500,delay:function(e,t){return 250*t},direction:"alternate",loop:!1})}},{key:"render",value:function(){return r.a.createElement("svg",{id:"logo",width:"575",height:"64",viewBox:"0 0 575 64",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M19.896 44.24H46.584L33.24 8.81601L19.896 44.24ZM53.208 61.712L48.792 49.904H17.784L13.368 61.712H3L26.04 2H40.536L63.672 61.712H53.208Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}),r.a.createElement("path",{d:"M117.464 2H127.16V61.712H117.08L85.4963 13.424V61.712H75.8003V2H86.2643L117.464 49.904V2Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}),r.a.createElement("path",{d:"M190.005 2V7.664H168.789V61.712H158.229V7.664H137.013V2H190.005Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}),r.a.createElement("path",{d:"M237.115 56.048H269.851V61.712H226.363V2H268.507V7.664H237.115V28.304H264.571V33.968H237.115V56.048Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}),r.a.createElement("path",{d:"M292.579 61.712H283.363V2H294.691L315.811 40.784L337.699 2H349.123V61.712H339.811V14L320.131 48.752H311.587L292.579 14V61.712Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}),r.a.createElement("path",{d:"M406.917 33.584V10.64C406.917 9.36 406.725 8.56 406.341 8.24C405.957 7.856 405.157 7.664 403.941 7.664H377.733V36.56H403.941C405.157 36.56 405.957 36.368 406.341 35.984C406.725 35.6 406.917 34.8 406.917 33.584ZM367.269 2H409.797C414.853 2 417.381 4.528 417.381 9.584V34.64C417.381 39.696 414.853 42.224 409.797 42.224H377.733V61.712H367.269V2Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}),r.a.createElement("path",{d:"M432.727 2H443.479V61.712H432.727V2Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}),r.a.createElement("path",{d:"M473.077 7.664V34.64H499.381C500.661 34.64 501.461 34.448 501.781 34.064C502.165 33.68 502.357 32.88 502.357 31.664V10.64C502.357 9.36 502.165 8.56 501.781 8.24C501.461 7.856 500.661 7.664 499.381 7.664H473.077ZM473.077 40.304V61.712H462.613V2H505.237C510.293 2 512.821 4.528 512.821 9.584V32.72C512.821 37.776 510.293 40.304 505.237 40.304H499.765L513.301 61.712H502.357L489.205 40.304H473.077Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}),r.a.createElement("path",{d:"M539.927 56.048H572.663V61.712H529.175V2H571.319V7.664H539.927V28.304H567.383V33.968H539.927V56.048Z",stroke:"white",strokeWidth:"3",mask:"url(#path-1-outside-1)"}))}}]),t}(n.Component)),B=(a(67),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={hover:!1,clicked:!1},a.mouseOver=a.mouseOver.bind(Object(d.a)(Object(d.a)(a))),a.mouseOut=a.mouseOut.bind(Object(d.a)(Object(d.a)(a))),a.handleClick=a.handleClick.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"mouseOver",value:function(){this.state.clicked||this.setState({hover:!0})}},{key:"mouseOut",value:function(){this.state.clicked||this.setState({hover:!1})}},{key:"handleClick",value:function(){var e=this.props.changePage;this.state.clicked||(this.setState({clicked:!0}),Object(_.a)({targets:"#enterButton",opacity:0,easing:"easeInOutSine"}),Object(_.a)({targets:"#logo path",strokeDashoffset:[0,_.a.setDashoffset],easing:"easeInOutSine",duration:1100,loop:!1}),setTimeout(function(){e("prequel")},4e3))}},{key:"componentDidMount",value:function(){setTimeout(function(){return Object(_.a)({targets:"#enterButton",opacity:1,easing:"easeInOutSine"})},4e3)}},{key:"render",value:function(){var e=this.state,t=e.hover,a=e.clicked;return r.a.createElement(p.CSSTransition,{in:!0,appear:!0,timeout:500,classNames:"fade"},r.a.createElement("div",{className:"enter-container","data-test":"component-enter"},r.a.createElement(I,{hover:t,clicked:a}),r.a.createElement(V,null),r.a.createElement("div",{id:"enterButton"},r.a.createElement(L,{"data-test":"enter-button",mouseOver:this.mouseOver,mouseOut:this.mouseOut,className:"ui button enterButton",handleClick:this.handleClick}))))}}]),t}(n.Component)),G=(a(75),["","You are a young queen ant. You've spent your entire childhood inside your mother's colony. While lacking for nothing, recently you've felt a bit restless. You and the rest of the young queens and winged males feel like there's something different these few days.","A strange urge seems to pulling you from your home and you finally can't resist. Along with your brothers and sister spread to take flight, scattering quickly across the land and mating with ants from other colonies. For a few weeks, the skies are covered in young winged ants.","Soon, you set off searching for a place to build your own colony. Endless dangers await you along the way and the vast majority of young queen ants like yourself will survive to safely establish a colony. Will you?"]),P=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={story:[]},a.fadeThroughStory=a.fadeThroughStory.bind(Object(d.a)(Object(d.a)(a))),a.fadeThroughStory(G),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"fadeThroughStory",value:function(e){var t=this,a=0,n=setInterval(function(){var o=e[a];a<e.length?(t.setState({story:[].concat(Object(b.a)(t.state.story),[o])}),a++):(t.setState({story:[].concat(Object(b.a)(t.state.story),[r.a.createElement("button",{onClick:function(){return t.props.changePage("choice")}},"Start")])}),clearInterval(n))},1e3)}},{key:"render",value:function(){return r.a.createElement("div",{id:"prequel","data-test":"component-prequel"},this.state.story.map(function(e,t){return r.a.createElement(p.CSSTransition,{in:!0,appear:!0,key:t,timeout:500,classNames:"fade"},r.a.createElement("div",{key:t},e))}))}}]),t}(n.Component),W={HEALTHY:"",HUNGRY:"Your colony is hungry. If you do not find more food soon, your colony will die.",THIRSTY:"Your colony is thirsty. If you do not find more water soon, your colony will die.",STARVING:"Your ants are STARVING! Some of your ants have died from starvation and the rest will follow soon.",DEHYDRATED:"Your ants are DEHYDRATED! Some of your ants have died from lack of water and the rest will follow soon.",DEATH_BY_STARVATION:"All of your colony has slowly withered from the lack of food. ",DEATH_BY_DEHYDRATION:"Your ants have dried up!",KILLED_BY_ANTS:"KILLED_BY_ANTS",KILLED_BY_HUMANS:"The humans have found you a nuisance and waged war! After a great fight, they manage to dig you out of your home. As you look up at the sky one last time, a pair of giant hands descend upon you. Just once instant, and then blackness. You have been killed by humans.",KILLED_BY_PREDATORS:"KILLED_BY_PREDATORS",CAPTURED_BY_ANTS:"A neighboring ant colony wages war against you. You are no match to their overwhelming forces and your home is theirs to plunder. Their workers drag you back to their colony to be an unwilling slave. You will spend the rest of your days birthing eggs for your enemies.",CAPTURED_BY_HUMANS:"The humans have dug up your colony to examine the inner workings of your home. Your workers viciously attempt to fend them off, but they came prepared with gloves. They manage to find you and put you in a small plastic test tube for further experiment. As you are lifted into the sky in their hands, you see the last glimpses of the remains of your colony. You have been captured by humans. "},U={HEALTHY:"HEALTHY",HUNGRY:"HUNGRY",THIRSTY:"THIRSTY",STARVING:"STARVING",DEHYDRATED:"DEHYDRATED",DEATH_BY_STARVATION:"DEATH_BY_STARVATION",DEATH_BY_DEHYDRATION:"DEATH_BY_DEHYDRATION",KILLED_BY_ANTS:"KILLED_BY_ANTS",KILLED_BY_HUMANS:"KILLED_BY_HUMANS",KILLED_BY_PREDATORS:"KILLED_BY_PREDATORS",CAPTURED_BY_ANTS:"CAPTURED_BY_ANTS",CAPTURED_BY_HUMANS:"CAPTURED_BY_HUMANS"};function z(e){return 0===e.length?null:e[Math.floor(Math.random()*e.length)]}function q(e){var t,a,n=e.filter(function(e){return e!==U.HEALTHY&&e!==U.THIRSTY&&e!==U.HUNGRY&&e!==U.STARVING&&e!==U.DEHYDRATED});return 0===n.length?(t=!0,a=null):(t=!1,a=n.reduce(function(e,t){return e.concat(W[t]," ")},"")),{game:t,notification:a}}var K={temperature:[{desc:"frozen",story:r.a.createElement("span",null," The ground is ",r.a.createElement("span",{className:"texteffect freezing"},"frozen solid")," and difficult to burrow into. ",r.a.createElement("span",{className:"texteffect freezing"},"Cold days and nights below freezing "),"are probably the norm here. "),risk:10,resource:3},{desc:"cold",story:r.a.createElement("span",null," ",r.a.createElement("span",{className:"texteffect snow"},"A fresh snowfall has blanketed the area with a layer of white and it shows no signs of melting.")," The temperature here is probably cold year round. "),risk:8,resource:4},{desc:"chilly",story:r.a.createElement("span",null," ",r.a.createElement("span",{className:"texteffect snow"},"Traces of melted snow are scattered throughout the area and you can still see white on the mountain peaks in the distance.")," The wind never really stops and it's a bit chilly. "),risk:5,resource:5},{desc:"mild",story:r.a.createElement("span",null,"It's a pleasant day and ",r.a.createElement("span",{className:"texteffect warm"},"the sun shines down warming the area gently.")," Temperate weather seems to be the norm here. "),risk:2,resource:5},{desc:"warm",story:r.a.createElement("span",null,"It feels like ",r.a.createElement("span",{className:"texteffect warm"},"summer is on the horizon ")," here. Everything feels a bit stuffy, but it's not uncomfortable if you get used to it."),risk:3,resource:6},{story:r.a.createElement("span",null,"The sun never seems to let up here. ",r.a.createElement("span",{className:"texteffect hot"},"Heat seems to radiate off of the ground, the rocks, and even the foliage.")," "),desc:"hot",risk:5,resource:6},{story:r.a.createElement("span",{className:"texteffect hot"},"It is so bloody hot that you feel like you're being roasted alive. The ground is SEARING and your little feet feel like they're burning. "),desc:"searing",risk:8,resource:3}],humidity:[{desc:"very wet",story:r.a.createElement("span",null,"With every step you take, water seems to ooze out of the ground. ",r.a.createElement("span",{className:"texteffect soaked"},"Everything is soaked and beads of water shimmer.")," Heavy rain and floods are definitely common here. "),risk:8,resource:6},{desc:"wet",story:r.a.createElement("span",null,r.a.createElement("span",{className:"texteffect lush"},"It's very lush here "),"and there is so much water vapor in the air that you never feel dry. There always seems to be a light rainstorm on the horizon. "),risk:5,resource:5},{story:r.a.createElement("span",null,"There doesn't seem to be much humidity in the air and ",r.a.createElement("span",{className:"texteffect dry"},"everything looks dry.")," It probably doesn't rain much around here and storms are brief. "),desc:"dry",risk:7,resource:4},{story:r.a.createElement("span",null,r.a.createElement("span",{className:"texteffect dry"},"The air is extremely parched and as soon as you arrive, you feel the water being sucked out of you.")," You can barely find any traces of water around and don't see signs of it raining anytime soon. "),desc:"very dry",risk:10,resource:3}],environment:[{desc:"in a forest",story:r.a.createElement("span",{className:"texteffect forest"},"Tall trees tower over you and the canopy blankets out half of the sky. ")},{desc:"in the mountains",story:r.a.createElement("span",null,"All around are ",r.a.createElement("span",{className:"texteffect mountain"},"gigantic mountains")," that make you feel like an ant and rightfully so. ")},{desc:"by a meadow",story:r.a.createElement("span",{className:"texteffect meadow"},"Golden grass rises out of the ground. There is no end to this sea of yellow as far as the eyes can see. ")},{desc:"in a clearing",story:r.a.createElement("span",null,"There is foliage nearby, but you are in a small clearing. The grass is short and ",r.a.createElement("span",{className:"texteffect gold"},"rays of light shine patches of gold")," around you. ")},{desc:"on the side of a hill",story:r.a.createElement("span",null,"Following a gentle slope, it seems to be the side of a hill. Foliage rises up occasionally here or there and you are surrounded by other hills of similar nature. ")}],home:[{desc:"mound",story:r.a.createElement("span",null,"A mound seems to provide shelter from danger and the elements and may be a good home. ")},{desc:"crack",story:r.a.createElement("span",null,"There is a long narrow crack in the ground and nothing seems to be inside. This may be a good place to start a colony. ")},{desc:"abandoned ant colony",story:r.a.createElement("span",null,"From the distance it seems like a small mound, but as you move closer it's obvious that this used to be an ant colony. The tunnels are all empty and the scent of ants is long gone. This may be a good home. ")},{desc:"hole",story:r.a.createElement("span",null,"To your side there is a deep hole in the ground that was dug by an animal of some sort. There is no resident right now and may be a good home. ")}],human:[{story:r.a.createElement("span",{className:"texteffect danger"},"There is a human city located nearby. The human stench makes you uneasy and cautious. "),risk:10},{story:r.a.createElement("span",{className:"texteffect caution"},"This area is located on the outskirts of human civilization. While you are not surrounded by humans, it could still be dangerous. "),risk:8},{story:r.a.createElement("span",{className:"texteffect warning"},"Human trails can be seen here, and there are few dwellings in direct line of sight. Human larvae may trod through here on their quest to grow into more dangerous humans. "),risk:6},{story:r.a.createElement("span",{className:"texteffect okay"},"The scent of humans is faint, but still regular. However, in this day and age it's difficult to be completely free of these nuisances. "),risk:4},{story:r.a.createElement("span",{className:"texteffect good"},"You can tell that humans rarely gather or dwell near here. While there may be the occasional family outing or adventurer, it doesn't seem too likely. "),risk:2}],ant:[{story:r.a.createElement("span",{className:"texteffect danger"},"It is packed with ant colonies. All around, you can see little mounds poking out of the ground and workers shuffling to and from their homes. "),risk:10},{story:r.a.createElement("span",{className:"texteffect caution"},"There are quite a few colonies around you. The immediate space is empty, but scent trails criss cross all over the area. "),risk:8},{story:r.a.createElement("span",{className:"texteffect warning"},"Ant neighbors are common here and seem to pass through the area sometimes. There seem to be no clear boundary. "),risk:6},{story:r.a.createElement("span",{className:"texteffect okay"},"There are a few ant colonies around, but there is a quite a distance separating you and them. "),risk:4},{story:r.a.createElement("span",{className:"texteffect good"},"Ants don't seem to have populated this area and you barely have any ant neighbors. "),risk:2}],animal:[{story:r.a.createElement("span",{className:"texteffect danger"},"Predators are everywhere and moving safely in the daytime may be difficult. "),risk:10},{story:r.a.createElement("span",{className:"texteffect caution"},"Ant-eating animals are abound and seem to pass through here often. "),risk:8},{story:r.a.createElement("span",{className:"texteffect warning"},"A diverse arrangement of life is here and some of them may find ants to be a tasty snack. "),risk:6},{story:r.a.createElement("span",{className:"texteffect okay"},"A few animal trails are around, but you don't see them today. "),risk:4},{story:r.a.createElement("span",{className:"texteffect good"},"Barely any wildlife here seems to be of the ant-eating type. Hopefully this means there won't be much predation. "),risk:2}]};var F="SET_HOME",Z="UPDATE_FUEL",X="SET_STORE",J="UPDATE_GAMESTATUS",Q="UPDATE_CHOICE",$="UPDATE_ALL",ee="SET_EVENT",te="RESET_STATE",ae="UPDATE_NOTIFICATION",ne="RECORD_HOME",re="ADD_DAY",oe="UPDATE_MAX_ANTS";function se(e){return{type:F,home:e}}function ie(e){return{type:X,store:e}}function ue(e){return{type:Q,choice:e}}function ce(e){return{type:$,state:e}}function le(){return{type:re}}function he(e){return{type:oe,ants:e}}var me={STARVING:[{type:"ant",subtype:"worker",number:.6},{type:"ant",subtype:"pupae",number:.6},{type:"ant",subtype:"larvae",number:.8},{type:"ant",subtype:"eggs",number:.2}],DEHYDRATED:[{type:"ant",subtype:"worker",number:.6},{type:"ant",subtype:"pupae",number:.6},{type:"ant",subtype:"larvae",number:.8},{type:"ant",subtype:"eggs",number:.2}]};function de(e){var t=Object(b.a)(e.status);return 0===e.store.food&&(t.some(function(e){return e===U.HUNGRY})?t=t.map(function(e){return e===U.HUNGRY?U.STARVING:e}):t.some(function(e){return e===U.STARVING})?t=t.map(function(e){return e===U.STARVING?U.DEATH_BY_STARVATION:e}):(t=t.filter(function(e){return e!==U.HEALTHY}),t=[].concat(Object(b.a)(t),[U.HUNGRY]))),0===e.store.water&&(t.some(function(e){return e===U.THIRSTY})?t=t.map(function(e){return e===U.THIRSTY?U.DEHYDRATED:e}):t.some(function(e){return e===U.DEHYDRATED})?t=t.map(function(e){return e===U.DEHYDRATED?U.DEATH_BY_DEHYDRATION:e}):(t=t.filter(function(e){return e!==U.HEALTHY}),t=[].concat(Object(b.a)(t),[U.THIRSTY]))),0!==e.store.water&&(t=t.filter(function(e){return e!==U.THIRSTY&&e!==U.DEHYDRATED})),0!==e.store.food&&(t=t.filter(function(e){return e!==U.HUNGRY&&e!==U.STARVING})),{narrative:t.map(function(e){return W[e]}),newState:Object(i.a)({},e,{status:t})}}a(76);var pe=function(e){function t(e){var a;Object(u.a)(this,t);var n=de((a=Object(l.a)(this,Object(h.a)(t).call(this,e))).props.state).narrative;return a.state={story:[],statusNarrative:n,currentHome:null},a.selectHome=a.selectHome.bind(Object(d.a)(Object(d.a)(a))),a.generateHomeAndNarrative=a.generateHomeAndNarrative.bind(Object(d.a)(Object(d.a)(a))),a.updateGameStatus=a.updateGameStatus.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.updateGameStatus(),this.generateHomeAndNarrative(),this.props.updateMaxAnts(this.props.state.ants.worker+1)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval);var e=E(this.props.state.event,this.props.state);e.event=[],this.props.updateAll(e)}},{key:"generateHomeAndNarrative",value:function(){var e=this,t=function(){var e=z(K.temperature),t=z(K.humidity),a=z(K.environment),n=z(K.home),o=z(K.animal),s=z(K.human),i=z(K.ant);return{story:[r.a.createElement("div",null,e.story," ",t.story," ",a.story),r.a.createElement("div",null,o.story," ",s.story," ",i.story," "),n.story],currentHome:{description:["A ".concat(t.desc," and ").concat(e.desc," in a ").concat(n.desc," ").concat(a.desc,".")],resources:{food:e.resource,water:t.resource},risk:{human:s.risk,animal:5,ant:i.risk},weather:{temperature:{desc:e.desc,risk:e.risk},humidity:{desc:t.desc,risk:t.risk}}}}}(),a=t.story,n=t.currentHome,o=[this.state.statusNarrative,"You have wandered upon a new area."].concat(a).concat([r.a.createElement("div",{key:"sdiv",className:"selections"},r.a.createElement("button",{className:"ui button",onClick:function(){return e.props.changePage("searching")}},"Keep Looking"),r.a.createElement("button",{className:"ui button",onClick:function(){e.selectHome(e.state.currentHome)}},"Settle Down"))]);this.setState({currentHome:n}),this.interval=setInterval(function(){return e.setState({story:[].concat(Object(b.a)(e.state.story),[o.splice(0,1)])})},1500)}},{key:"updateGameStatus",value:function(){var e=de(this.props.state).newState,t=function(e){var t=[];return e?(e.map(function(e){var a=me[e];a&&(t=t.concat(a))}),t):t}(e.status),a=t.length>0?t.map(function(t){return v(t,e)}):[],n=q(e.status);e=Object.assign({},e,a);var r=Object.assign({},e,n,{event:a});this.props.updateAll(r)}},{key:"selectHome",value:function(e){var t=this;this.props.setHome(e),this.props.recordHome(e.description[0]),setTimeout(function(){t.props.changePage("gameplay")},0)}},{key:"render",value:function(){return r.a.createElement("div",{id:"choice","data-test":"component-choice"},this.props.state.game?this.state.story.map(function(e,t){return r.a.createElement(p.CSSTransition,{in:!0,appear:!0,key:t,timeout:500,classNames:"fade"},r.a.createElement("div",{key:e[0]+e.length+t,className:"narrative"}," ",e," "))}):null)}}]),t}(n.Component);var fe=Object(f.b)(function(e){return{state:Object(i.a)({},e)}},{setHome:se,updateGameStatus:function(e){return{type:J,game:e}},updateAll:ce,recordHome:function(e){return{type:ne,home:e}},updateMaxAnts:he})(pe),ye=(a(77),function(){return r.a.createElement("div",{className:"preloader2"},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))});a(78);var be=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={choice:a.props.state.choice},a.props.updateChoice(null),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){var e=function(e){var t=e.store,a=e.ants,n=.3*a.eggs+3*a.larvae+.5*a.pupae+a.worker+10;return{food:Math.max(0,Math.floor(t.food-n)),water:Math.max(0,Math.floor(t.water-n))}}(this.props.state);this.props.addDay(),this.props.setStore(e)}},{key:"render",value:function(){var e,t=this;return setTimeout(function(){t.props.changePage("choice")},3e3),"change"===this.state.choice&&(e="Your entire colony packs up and brings what they can as you search for a new home."),r.a.createElement("div",{id:"searching","data-test":"component-searching"},r.a.createElement("div",{className:"change"}," ",e," "),r.a.createElement(ye,null))}}]),t}(n.Component);var ge=Object(f.b)(function(e){return{state:Object(i.a)({},e)}},{updateChoice:ue,setStore:ie,addDay:le})(be),ve=(a(79),function(e){function t(){return Object(u.a)(this,t),Object(l.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){this.props.addDay()}},{key:"render",value:function(){var e=this.props,t=e.setChoice,a=e.ants;return r.a.createElement("div",{id:"gameplay","data-test":"component-gameplay"},r.a.createElement("h4",null,"What would you like to do?"),r.a.createElement("div",{id:"choices"},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return t("birth")}},"Focus on Birthing Workers"),r.a.createElement("button",{onClick:function(){return t("change")}},"Change Homes")),a&&a.worker>0?r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return t("defend")}},"Be on the Defensive"),r.a.createElement("button",{onClick:function(){return t("expand")}},"Scout for Resources")):r.a.createElement("div",null,r.a.createElement("span",{"data-tip":!0,"data-for":"worker-warning"},r.a.createElement("button",{onMouseEnter:this.showWarning,disabled:!0},"Be on the Defensive")),r.a.createElement("span",{"data-tip":!0,"data-for":"worker-warning"},r.a.createElement("button",{onMouseEnter:this.showWarning,"data-tip":!0,"data-for":"worker-warning",disabled:!0},"Scout for Resources")),r.a.createElement(w.a,{className:"warning-tooltip",id:"worker-warning",type:"error",effect:"solid"},r.a.createElement("span",null,"You must have at least one worker ant to do that.")))))}}]),t}(n.Component));var Ee=Object(f.b)(function(e){return{stats:e.stats,ants:e.ants}},{addDay:le})(ve);var ke={worker:0,pupae:0,larvae:0,eggs:0},we={temperature:{frozen:["t1","t2","t3","t4","t5","t10"],cold:["t1","t2","t3","t4","t10"],chilly:["t1","t2","t3","t10"],mild:["t1","t6","t10"],warm:["t6","t7"],hot:["t6","t7","t8","t11"],searing:["t6","t7","t8","t11"]},humidity:{"very wet":["h1","h3","h5"],wet:["h1","h3"],dry:["h2","h6","h4"],"very dry":["h2","h6","h4"]},animal:{"very low":[],low:[],medium:["e4","e3","e4"],high:["e1","e3","e4","e5"],"very high":["e1","e2","e3","e4","e5"]},human:{"very low":["hu3","hu6"],low:["hu3","hu5","hu6"],medium:["hu2","hu3","hu4","hu6"],high:["hu1","hu2","hu3","hu4","hu5","hu6"],"very high":["hu1","hu2","hu3","hu4","hu5","hu6","hu7","hu8"]},ant:{"very low":["a8"],low:["a3","a4","a6","a8"],medium:["a3","a4","a5","a6","a8","a7"],high:["a2","a3","a4","a5","a6","a8","a7"],"very high":["a1","a2","a3","a4","a5","a6","a8","a7"]}},Oe={temperature:[{description:"A freak snowstorm blows through. Many of your ants are caught while out gathering food and freeze to death",id:"t1",effects:[{type:"ant",subtype:"worker",number:.7}]},{description:"The snow piles up and moving around becomes harder for your workers. You end up having to rely on your stores for while.",id:"t2",effects:[{type:"resource",subtype:"food",number:-1}]},{description:"A sudden hailstorm batters your colony. You lose some of your workers.",id:"t3",effects:[{type:"ant",subtype:"worker",number:.9}]},{description:"Snow swirls around you and there is no visibility. Your entire colony is covered and many of your ants do not survive the night.",id:"t4",effects:[{type:"ant",subtype:"worker",number:.7},{type:"ant",subtype:"larvae",number:.6},{type:"ant",subtype:"pupae",number:.5},{type:"ant",subtype:"egg",number:.3}]},{description:"A sudden drop in temperature causes the ground to freeze. Unable to regulate temperature, your young are affected.",id:"t5",effects:[{type:"ant",subtype:"pupae",number:.3},{type:"ant",subtype:"larvae",number:.2},{type:"ant",subtype:"egg",number:.1}]},{description:"A heat wave passes over the area, causing foliage to shrivel and to dry up. Food becomes scarce and in order to stay healthy, your ants use up more water stores than usual.",id:"t6",effects:[{type:"store",subtype:"food",number:.9},{type:"store",subtype:"water",number:.6},{type:"resource",subtype:"food",number:-1},{type:"resource",subtype:"water",number:-1}]},{description:"Due to the heat, a small fire starts up and burns through the area. Many of the animals flee, and you retreat underground to escape the blazing heat. When you emerge, you count your workers and have suffered minimal amount of damage.",id:"t7",effects:[{type:"ant",subtype:"worker",number:.9}]},{description:"A blazing wildfire arises out of the night and spreads through the area faster than a butterfly can flap its wings. It takes you by surprise. While retreating back into your colony to avoid the searing hot temperatures, many of your workers are unable to survive.",id:"t8",effects:[{type:"ant",subtype:"worker",number:.3}]},{description:"The prolonged heat makes some of your workers woozy. Their productivity is decreased and you're forced to rely on your stores for upkeep",id:"t9",effects:[{type:"store",subtype:"food",number:.9},{type:"store",subtype:"water",number:.8}]},{description:"The abnormally sunny weather lifts your spirits and warms the ground! Your workers are much more productive and bring back more food and water to show it.",id:"t10",effects:[{type:"store",subtype:"food",number:1.1},{type:"store",subtype:"water",number:1.1}]},{description:"The weather cools down and for once you get a break from the ever enduring heat. Because of your good spirits, your egg laying becomes more productive!",id:"t11",effects:[{type:"ant",subtype:"eggs",number:1.5}]}],humidity:[{description:"During the night, a sudden rainstorm comes pouring down hard. Droplets of water bombard your unprepared colony and some of your workers are caught outside. A part of your colony has been flooded.",id:"h1",effects:[{type:"ant",subtype:"worker",number:.8},{type:"ant",subtype:"pupae",number:.8},{type:"resource",subtype:"water",number:1},{type:"store",subtype:"water",number:1.1}]},{description:"Lightning has struck nearby! Due to the dry weather, the foliage around you has been exceptionally flammable. A small fire spreads quickly and scorches the area.",id:"h2",effects:[{type:"store",subtype:"food",number:.8},{type:"store",subtype:"water",number:.7}]},{description:"A heavy rainstorm and flash flood covers the area with several feet of rain. Your entire colony has been flooded and your workers scamper together to form a raft. With your guidance, your workers all survive, but many of your young ones are drowned.",id:"h3",effects:[{type:"ant",subtype:"larvae",number:.1},{type:"ant",subtype:"pupae",number:.2},{type:"ant",subtype:"eggs",number:.1}]},{description:"A gentle misty rain comes through and softens the parched ground. Your ants scamper to collect the beads of water before they succumb to the dry winds.",id:"h4",effects:[{type:"store",subtype:"water",number:1.1}]},{description:"A hurricane has been building. The fierce winds reach you and rampage through your area, bringing rain, wind, and terror. Many of your colony is either washed away or blown far from home.",id:"h5",effects:[{type:"ant",subtype:"worker",number:.5}]},{description:"A prolonged drought dries up your water source and you have to rely more on your water stores than usual.",id:"h6",effects:[{type:"resource",subtype:"water",number:-1},{type:"store",subtype:"water",number:.7}]}],animal:[{description:"Alas! An anteater has happened upon your colony. With its sticky tongue, traps many of your workers who end up midday snacks.",id:"e1",effects:[{type:"ant",subtype:"worker",number:.9}]},{description:"While out scouting, some of your ants do not return. The others bring tales of terrifying creatures with sharp fangs and unfillable appetites.",id:"e2",effects:[{type:"ant",subtype:"worker",number:.9}]},{description:"An infection has happened upon your colony. While you are thankfully unaffected, many of your children are not as fortunate. All you can do is dispose of the bodies as they fall one by one to their enternal sleep. Thankfully the bulk of your colony survives.",id:"e3",effects:[{type:"ant",subtype:"worker",number:.8},{type:"ant",subtype:"pupae",number:.3},{type:"ant",subtype:"larvae",number:.3},{type:"ant",subtype:"eggs",number:.3}]},{description:"An antlion has made itself home in your vicinity. Many of your gatherers fall prey to the antlions carefully planned traps.",id:"e4",effects:[{type:"ant",subtype:"worker",number:.8}]},{description:"There has recently been a surge in the local spider population and your children have become fuel for their growth.",id:"e5",effects:[{type:"ant",subtype:"worker",number:.8}]}],human:[{description:"Find you a nuisance, a group of humans has systematically poured poison on your colony and flooded it. By digging further down into your tunnels, some of you manage to escape but at great cost.",id:"hu1",effects:[{type:"ant",subtype:"larvae",number:0},{type:"ant",subtype:"pupae",number:0},{type:"ant",subtype:"eggs",number:0},{type:"ant",subtype:"worker",number:.2}]},{description:"Cruel pups of the human race have discovered a new way to hurt you. They concentrate the sun through a glass and burn your workers for fun.",id:"hu2",effects:[{type:"ant",subtype:"worker",number:.9}]},{description:"Human children kick your home in play and many of the tunnels cave in. Fortunately, you are strong and none of your workers are hurt. Some of your ants retaliate and sting the humans. Hopefully they do not come back for revenge.",id:"hu3",effects:[{type:"risk",subtype:"human",number:1}]},{description:"After accidentally walking through their terrain, humans destroy your scent trails to ward off you workers. All of them make it back, but the humans are now alerted to your presence.",id:"hu4",effects:[{type:"risk",subtype:"human",number:1}]},{description:"A couple of human homes have popped up nearby, leading you to be even closer to human population. The chance of your paths crossing in the future has increased.",id:"hu5",effects:[{type:"risk",subtype:"human",number:1}]},{description:"Several human homes have been abandoned. Human families have moved out and it should be less likely to run into humans in the future.",id:"hu6",effects:[{type:"risk",subtype:"human",number:-1}]},{description:"The humans have found you a nuisance and waged war! After a great fight, they manage to dig you out of your home. As you look up at the sky one last time, a pair of giant hands descend upon you. Just once instant, and then blackness. You have been killed by humans.",id:"hu7",effects:[{type:"status",status:U.KILLED_BY_HUMANS}]},{description:"The humans have dug up your colony to examine the inner workings of your home. Your workers viciously attempt to fend them off, but they came prepared with gloves. They manage to find you and put you in a small plastic test tube for further experiment. As you are lifted into the sky in their hands, you see the last glimpses of the remains of your colony. You have been captured by humans. ",id:"hu8",effects:[{type:"status",status:U.CAPTURED_BY_HUMANS}]}],ant:[{description:"A neighboring ant colony wages war against you. You are no match to their overwhelming forces and your home is theirs to plunder. Their workers drag you back to their colony to be an unwilling slave. You will spend the rest of your days birthing eggs for your enemies.",id:"a1",effects:[{type:"status",status:U.CAPTURED_BY_ANTS}]},{description:"Another ant colony has bombarded you with attacks. Your warriors fight bravely and manage to fend them off, but many are hurt.",id:"a2",effects:[{type:"ant",subtype:"worker",number:.8}]},{description:"While out looking for more resources, some of your scouts are attacked by other ants. They do not seem to be friendly ants and the chance of conflict increases.",id:"a3",effects:[{type:"risk",subtype:"ant",number:1},{type:"ant",subtype:"worker",number:.8}]},{description:"Your hostile ant neighbors are venturing further into your territory. There have been several skirmishes over the past few days and tension is rising.",id:"a4",effects:[{type:"ant",subtype:"worker",number:.9}]},{description:"You have been an eyesore to the ant colonies around you and some have targetted you. When your ants are out gathering food, your stores were raided.",id:"a5",effects:[{type:"store",subtype:"food",number:.5},{type:"store",subtype:"water",number:.8}]},{description:"One of the ants your area have waged war on you. In the future, attacks will be more common.",id:"a6",effects:[{type:"risk",subtype:"ant",number:1}]},{description:"Unable to keep up with your progress, an ant colony nearby has become afraid of you. They decide to move away. Your risk of being attacked by ants decreases.",id:"a7",effects:[{type:"risk",subtype:"ant",number:-1}]},{description:"A new ant colony has moved into your area. While no ant has been hurt yet, the chances of you having conflict with your neighbors increases.",id:"a8",effects:[{type:"risk",subtype:"ant",number:1}]}]},Te=function(e){switch(!0){case e<2:return"very low";case e<4:return"low";case e<6:return"medium";case e<8:return"high";default:return"very high"}},je={birth:[{description:"You've manages to birth quite a few eggs! Hopefully they will quickly grow up into strong workers and provide for the colony.",effects:[{type:"ant",subtype:"eggs",number:1.5}]},{description:"To give birth to your eggs, you consume more resources than usual. However, you still don't manage to lay more eggs.",id:"t1",effects:[{type:"store",subtype:"food",number:.9}]}],expand:[{description:"Your ants brave the unknown and scout for sources of food and water. They search far and wide into unknown territories and are able to bring news of a undiscovered pond nearby! Now access to water will be even easier.",effects:[{type:"resource",subtype:"water",number:1},{type:"store",subtype:"water",number:1.1}]},{description:"While out searching, your colony finds a freshly killed mammal! This will be able to feed your colony for quite a while.",effects:[{type:"store",subtype:"food",number:1.2}]},{description:"In their search for food, your scouts wander further than the boundaries of your territory. All the scouts are surrounded by hostile enemy ants and brutually killed. Not one makes it back alive.",id:"t1",effects:[{type:"ant",subtype:"worker",number:.7}]},{description:"Your workers come back from their trip empty-handed.",effects:[]},{description:"Your workers come back from their trip empty-handed.",effects:[]},{description:"Your workers come back from their trip empty-handed.",effects:[]}],defend:[{description:"",effects:[]}]};function Ae(e){var t=e.choice,a=Object(i.a)({},e),n=[],r=function(e,t){if(!e)return ke;var a=e.ants,n=e.store,r="birth"===t?1.5:1,o=(Math.max(1,n.food)/Math.max(200,30*a.worker)+Math.max(1,n.water)/Math.max(200,30*a.worker))/2,s=Math.floor((o*Math.log(Math.max(1,a.worker))*.3+6)*r);return{eggs:Math.max(0,s),larvae:Math.max(0,a.eggs),pupae:Math.max(0,a.larvae),worker:Math.max(a.worker+a.pupae,0)}}(e,t),o=function(e){var t=e.ants,a=e.store,n=e.home,r=Math.max(200,30*t.worker),o=(1-1/n.resources.water)*t.worker*4,s=(1-1/n.resources.food)*t.worker*4,i=.3*t.eggs+3*t.larvae+.5*t.pupae+t.worker+10;return{food:Math.max(0,Math.min(r,Math.floor(a.food+o-i))),water:Math.max(0,Math.min(r,Math.floor(a.water+s-i)))}}(e);n.push(z(je[t]));var s=e.ants.worker>10?function(e){var t=e.home,a=[],n=100/(10-t.weather.temperature.risk);if(100*Math.random()<=n){var r=z(we.temperature[t.weather.temperature.desc]),o=Oe.temperature.filter(function(e){return e.id===r})[0];a.push(o)}var s=100/(10-t.weather.humidity.risk);if(100*Math.random()<=s){var i=z(we.humidity[t.weather.humidity.desc]),u=Oe.humidity.filter(function(e){return e.id===i})[0];a.push(u)}var c=100/(10-t.risk.animal);if(100*Math.random()<=c){var l=z(we.animal[Te(t.risk.animal)]),h=Oe.animal.filter(function(e){return e.id===l})[0];a.push(h)}var m=100/(10-t.risk.human);if(100*Math.random()<=m){var d=z(we.human[Te(t.risk.human)]),p=Oe.human.filter(function(e){return e.id===d})[0];a.push(p)}var f=100/(10-t.risk.ant);if(100*Math.random()<=f){var y=z(we.ant[Te(t.risk.ant)]),b=Oe.ant.filter(function(e){return e.id===y})[0];a.push(b)}return 0===a.length?null:a[Math.floor(Math.random()*a.length)]}(e):null;s&&n.push(s);var u=de(Object(i.a)({},a,{ants:r,store:o})),c=u.narrative,l=u.newState,h=s?s.effects.filter(function(e){return"status"===e.type}):null;l.status=s&&h.length>0?[].concat(Object(b.a)(l.status),[h[0].status]):l.status;var m=q(l.status),d=m.game,p=m.notification;return{narrative:c,events:n,state:Object.assign({},Object(i.a)({},l,{ants:r,store:o,notification:p,game:d}))}}var Ne={birth:"As the queen ant you dedicate most of your time and resources to spawning new eggs. The rest of colony is left to govern the home as usual.",expand:"You command your workers to scout out new territory in search for more sources of food and water.",defend:"To protect your workers, you command your colony to move cautiously and to not range too far from home."};a(80);var He=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={story:[]},a.chooseButton=a.chooseButton.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e,t=this,a=[],n=Ae(this.props.reduxState),r=n.narrative,o=n.events,s=n.state,i=this.chooseButton(),u=(e=this.props.reduxState.choice,Ne[e]);a.push(u),a=a.concat(r),o.map(function(e){return a.push(e.description)}),a.push(i);var c=o?function(e){return e?e.reduce(function(e,t){return[].concat(Object(b.a)(e),Object(b.a)(t.effects))},[]):[]}(o):[],l=c.length>0?c.map(function(e){return v(e,t.props.reduxState)}):[];this.props.updateAll(s),l.length>0&&this.props.setEvent(l),this.interval=setInterval(function(){return t.setState({story:[].concat(Object(b.a)(t.state.story),[a.splice(0,1)])})},1e3)}},{key:"componentWillUnmount",value:function(){if(this.props.reduxState.status.every(function(e){return e===U.HEALTHY||e===U.THIRSTY||e===U.HUNGRY||e===U.STARVING||e===U.DEHYDRATED})){var e=E(this.props.reduxState.event,this.props.reduxState);e.event=[],this.props.updateAll(e)}clearInterval(this.interval),this.props.updateMaxAnts(this.props.reduxState.ants.worker+1)}},{key:"chooseButton",value:function(){var e=this,t=this.props.resetGame;return this.props.reduxState.status.every(function(e){return e===U.HEALTHY||e===U.THIRSTY||e===U.HUNGRY||e===U.STARVING||e===U.DEHYDRATED})?r.a.createElement("button",{key:"cont-btn","data-test":"continue-button",onClick:function(){return e.props.changePage("gameplay")}},"Continue"):r.a.createElement("button",{key:"reset-btn",onClick:t},"Start Over")}},{key:"render",value:function(){var e=this.props.reduxState.game;return r.a.createElement("div",{id:"event","data-test":"component-event"},e?this.state.story.map(function(e,t){return r.a.createElement(p.CSSTransition,{in:!0,appear:!0,key:t,timeout:500,classNames:"fade"},r.a.createElement("div",{className:"narrative"}," ",e," "))}):null)}}]),t}(n.Component);var Se=Object(f.b)(function(e){return{reduxState:Object(i.a)({},e)}},{updateAll:ce,setEvent:function(e){return{type:ee,event:e}},updateMaxAnts:he})(He);var Ye=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(l.a)(this,Object(h.a)(t).call(this,e))).state={page:"enter"},a.changePage=a.changePage.bind(Object(d.a)(Object(d.a)(a))),a.setChoice=a.setChoice.bind(Object(d.a)(Object(d.a)(a))),a.resetGame=a.resetGame.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"changePage",value:function(e){this.setState({page:e})}},{key:"setChoice",value:function(e){var t,a;this.props.updateChoice(e),"change"===e?(this.props.setHome(null),this.props.setStore((t=this.props.store,a=this.props.ants,{food:Math.min(t.food,Math.max(15*a.worker,200)),water:Math.min(t.water,Math.max(15*a.worker,200))})),this.changePage("searching")):this.changePage("event")}},{key:"resetGame",value:function(){var e=this;setTimeout(function(){e.props.resetState()},0),this.setState({page:"enter"})}},{key:"render",value:function(){var e=function(e,t,a,n){return{enter:r.a.createElement(B,{key:e,changePage:t}),prequel:r.a.createElement(P,{key:e,changePage:t}),choice:r.a.createElement(fe,{key:e,changePage:t}),searching:r.a.createElement(ge,{key:e,changePage:t}),gameplay:r.a.createElement(Ee,{key:e,changePage:t,setChoice:a}),event:r.a.createElement(Se,{key:e,changePage:t,resetGame:n})}[e]}(this.state.page,this.changePage,this.setChoice,this.resetGame),t="enter"!==this.state.page&&"prequel"!==this.state.page;return r.a.createElement("div",{className:"App","data-test":"component-app"},r.a.createElement(p.CSSTransition,{in:!!this.props.notification,appear:!0,timeout:0,classNames:"fade",unmountOnExit:!0},r.a.createElement(R,{notification:this.props.notification,updateNotification:this.props.updateNotification,stats:this.props.stats,resetGame:this.resetGame})),r.a.createElement("div",{className:"mainscreen"},r.a.createElement(p.CSSTransition,{key:this.state.page,in:!0,appear:!0,timeout:200,classNames:"fade","data-test":this.state.page,unmountOnExit:!0},e)),r.a.createElement(p.CSSTransition,{in:t,timeout:5,classNames:"fade",unmountOnExit:!0},r.a.createElement(C,{key:"statusbar",className:"statusbar",resetGame:this.resetGame})))}}]),t}(n.Component);var De=Object(f.b)(function(e){return Object(i.a)({},e)},{updateChoice:ue,setHome:se,resetState:function(){return{type:te}},setStore:ie,updateNotification:function(e){return{type:te,notification:e}}})(Ye);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xe={ants:{eggs:0,larvae:0,pupae:0,worker:0},store:{food:200,water:200},notification:null,fuel:100,home:null,page:"enter",choice:null,game:!0,event:[],status:[U.HEALTHY],stats:{day:1,homes:[],maxAnts:1}};var Me=a(19),Ce=Object(Me.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(i.a)({},e,{home:t.home});case Z:return Object(i.a)({},e,{fuel:t.fuel});case X:return Object(i.a)({},e,{store:t.store});case J:return Object(i.a)({},e,{game:t.game});case Q:return Object(i.a)({},e,{choice:t.choice});case $:return Object(i.a)({},t.state);case ee:return Object(i.a)({},e,{event:t.event});case te:return Object(i.a)({},xe);case ae:return Object(i.a)({},e,{notification:t.notification});case re:var a=Object(i.a)({},e.stats,{day:e.stats.day+1});return Object(i.a)({},e,{stats:a});case ne:var n=[].concat(Object(b.a)(e.stats.homes),[t.home]),r=Object(i.a)({},e.stats,{homes:n});return Object(i.a)({},e,{stats:r});case oe:var o=e.stats.maxAnts,s=t.ants>o?t.ants:o,u=Object(i.a)({},e.stats,{maxAnts:s});return Object(i.a)({},e,{stats:u});default:return e}},window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());s.a.render(r.a.createElement(f.a,{store:Ce},r.a.createElement(De,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[31,1,2]]]);
//# sourceMappingURL=main.62c32ac0.chunk.js.map